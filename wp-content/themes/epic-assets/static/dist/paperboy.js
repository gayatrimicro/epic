!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=282)}([function(e,t,n){"use strict";t.a=function(){return window}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(107);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t,n){"use strict";var r=n(138),i=n.n(r),o=function(){};t.a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(e){return n?o:i()("".concat(t,":").concat(e))},a=r("info"),s=r("notice"),c=r("warn"),u=r("error");return{log:r,info:a,notice:s,warn:c,error:u,namespace:function(n){return e((t?"".concat(t,":"):"")+n)}}}("paperboy")},function(e,t,n){e.exports=n(162)},function(e,t,n){"use strict";n.d(t,"f",function(){return v}),n.d(t,"h",function(){return b}),n.d(t,"g",function(){return w}),n.d(t,"b",function(){return C}),n.d(t,"d",function(){return k}),n.d(t,"a",function(){return x}),n.d(t,"j",function(){return E}),n.d(t,"e",function(){return O}),n.d(t,"c",function(){return P}),n.d(t,"i",function(){return A});var r=n(98),i=n.n(r),o=n(99),a=n.n(o),s=n(38),c=n.n(s),u=n(15),f=n.n(u),p=n(14),l=n.n(p),h=n(36),d=n.n(h),g=n(25),y=n.n(g);function v(e,t){var n=y()(e);if(y()(t)!==n)return!1;switch(n){case"number":return!(!isNaN(e)||!isNaN(t))||e===t;case"object":if(null==e||null==t)return e===t;if(d()(e)&&d()(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!v(e[r],t[r]))return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():v(x(e),x(t))}return e===t}function m(e){return"object"===y()(e)?d()(e)?e.map(m):l()(e).sort().reduce(function(t,n){var r=e[n];return t[n]=m(r),t},{}):e}function _(e){return f()(m(e))}function b(e,t){return _(e)===_(t)}function w(e,t){return x(e).filter(function(e){var n=c()(e,1)[0];return-1!==t.indexOf(n)}).reduce(function(e,t){var n=c()(t,2),r=n[0],i=n[1];return e[r]=i,e},{})}function C(e,t){if("find"in e)return e.find(t);for(var n=0;n<e.length;n++){var r=e[n];if(t(r,n))return r}}function k(e,t){return"includes"in e?e.includes(t):-1!==e.indexOf(t)}function x(e){return e?a.a?a()(e):l()(e).reduce(function(e,t){return e.push([t,e[t]]),e},[]):[]}function E(e){return e?i.a?i()(e):l()(e).reduce(function(e,t){return e.push(e[t]),e},[]):[]}function O(e){return"object"===y()(e)&&"length"in e}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{var n=e();return void 0===n?t:n}catch(e){return t}}function A(e,t){return e+t}A.identity=0},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(194),i=n(119);function o(t){return e.exports=o=i?r:function(e){return e.__proto__||r(e)},o(t)}e.exports=o},function(e,t,n){var r=n(100),i=n(149),o=n(14),a=n(158);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=o(n);"function"==typeof i&&(s=s.concat(i(n).filter(function(e){return r(n,e).enumerable}))),s.forEach(function(t){a(e,t,n[t])})}return e}},function(e,t,n){var r=n(11),i=n(6),o=n(31),a=n(35),s=n(34),c=function(e,t,n){var u,f,p,l=e&c.F,h=e&c.G,d=e&c.S,g=e&c.P,y=e&c.B,v=e&c.W,m=h?i:i[t]||(i[t]={}),_=m.prototype,b=h?r:d?r[t]:(r[t]||{}).prototype;for(u in h&&(n=t),n)(f=!l&&b&&void 0!==b[u])&&s(m,u)||(p=f?b[u]:n[u],m[u]=h&&"function"!=typeof b[u]?n[u]:y&&f?o(p,r):v&&b[u]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):g&&"function"==typeof p?o(Function.call,p):p,g&&((m.virtual||(m.virtual={}))[u]=p,e&c.R&&_&&!_[u]&&a(_,u,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(25),i=n(29);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(120),i=n(92);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){"use strict";n.d(t,"c",function(){return T}),n.d(t,"d",function(){return M}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return I});var r=n(19),i=n.n(r),o=n(1),a=n.n(o),s=n(2),c=n.n(s),u=n(10),f=n.n(u),p=n(7),l=n.n(p),h=n(12),d=n.n(h),g=n(14),y=n.n(g),v=n(4),m=n.n(v),_=n(0),b=n(37),w=n(140),C=n.n(w),k=n(141),x=n.n(k),E=n(5),O=Object(_.a)(),P=!1;O.FormData||(P=!0,O.FormData=function(){}),P&&delete O.FormData;var A=["post","put","delete","get"],S={method:"get",queryParams:{},data:{},headers:{},flags:[]};function T(e){if(e.body)return e.body;if(e.text)try{return JSON.parse(e.text)}catch(e){return null}}function M(e){var t=m()({},S,e);if(!Object(E.d)(A,t.method))throw new Error("Unknown method: '".concat(t.method,"'. Must be one of: ").concat(A.join(",")));var n=x.a[t.method](e.url);for(var r in n.use(C.a),y()(t.queryParams).length>0&&n.query(t.queryParams),t.dataParams&&n.send(t.dataParams),t.headers)n.set(r,t.headers[r]);return t.flags.forEach(function(e){if("function"!=typeof n[e])throw new Error("Invalid flag ".concat(e));n[e]()}),t.callback&&n.end(t.callback),n}var j=function(e){function t(e,n,r){var i;return a()(this,t),(i=n?f()(this,l()(t).call(this,"Received ".concat(n.statusCode," from ").concat(n.req.url," with message ").concat(n.text))):r?f()(this,l()(t).call(this,r.message)):e?f()(this,l()(t).call(this,"Unknown request error, this is a browser level fault such as no network. Url: ".concat(e.url))):f()(this,l()(t).call(this,"Unknown request error. No request information was recieved"))).meta.online=Object(_.a)().navigator.onLine,n&&(i.meta.statusCode=n.statusCode,i.meta.responseText=n.text),e&&(i.meta.url=e.url,e.queryParams&&(i.meta.queryParams=e.queryParams)),r&&(r instanceof Error&&i.addOriginalError(r),r.original instanceof Error&&i.addOriginalError(r.original)),i._options=e,i._data=n,i._err=r,f()(i)}return d()(t,e),c()(t,[{key:"getResponseStatusCode",value:function(){var e=this;return Object(E.c)(function(){return e._data.statusCode},null)}}]),t}(b.a);function I(e){var t=M(e),n=new i.a(function(n,r){t.end(function(i,o){if(i){var a=new j(e,o,i);r(a,o,t)}else n(o,t)})});return n.abort=t.abort.bind(t),n}},function(e,t,n){e.exports=n(156)},function(e,t,n){e.exports=n(181)},function(e,t,n){var r=n(77)("wks"),i=n(61),o=n(11).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){for(var r=n(240),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var c=r(),u=[1|c[0],c[1],c[2],c[3],c[4],c[5]],f=16383&(c[6]<<8|c[7]),p=0,l=0;function h(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||s(o)}var d=h;d.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:f,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:l+1,h=a-p+(c-l)/1e4;if(h<0&&void 0===e.clockseq&&(o=o+1&16383),(h<0||a>p)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=a,l=c,f=o;var d=(1e4*(268435455&(a+=122192928e5))+c)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=255&d;var g=a/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=255&g,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var y=e.node||u,v=0;v<6;v++)i[r+v]=y[v];return t||s(i)},d.v4=h,d.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=o[e])});i<16;)t[r+i++]=0;return t},d.unparse=s,e.exports=d},function(e,t,n){e.exports=n(188)},function(e,t,n){e.exports=n(228)},function(e,t,n){var r=n(17);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=null!==window.location.toString().match(/^https:\/\//)||!window.XDomainRequest?"https":"http"},function(e,t,n){var r=n(21),i=n(101),o=n(73),a=Object.defineProperty;t.f=n(27)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return g});var r,i=n(8),o=n.n(i),a=n(1),s=n.n(a),c=n(2),u=n.n(c),f=n(0),p=n(70),l={ready:function(e){this.isReady?e():this.on("ready",e)}},h=function(){function e(){s()(this,e),this._api=Object(p.a)(l)}return u()(e,[{key:"add",value:function(e){if(e&&e.getPublicApi){var t=e.getPublicApi(),n=t.publicName,r=t.api;this._api[n]=r}}},{key:"getApi",value:function(){return this._api}},{key:"expose",value:function(){var e=Object(f.a)();this._api=e.Paperboy=o()({},e.Paperboy,this._api)}},{key:"ready",value:function(){this._api.isReady=!0,this._api.trigger("ready")}},{key:"destroy",value:function(){delete Object(f.a)().Paperboy}}]),e}();function d(){return g().getApi()}function g(){return r||(r=new h)}},function(e,t,n){var r=n(182),i=n(184);function o(e){return(o="function"==typeof i&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e})(e)}function a(t){return"function"==typeof i&&"symbol"===o(r)?e.exports=a=function(e){return o(e)}:e.exports=a=function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":o(e)},a(t)}e.exports=a},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return d});var r,i=n(5),o=n(0),a=+new Date;function s(){return r||(r=window.performance&&window.performance.now?window.performance.now():null)}var c=/(paperboy\/\w+\.js|paperboy\.js|paperboy\.triptease\.net\/\w+.js)/;function u(){var e=Object(o.a)().performance;if(e&&e.getEntries){var t=e.getEntries(),n=Object(i.b)(t,function(e){return c.test(e.name)});if(n)return n}return null}function f(){var e=Object(o.a)().performance;return e&&e.timing?e.timing.fetchStart:null}function p(){var e=u();if(!e||!e.fetchStart)return null;var t=f();return t?t+e.fetchStart:null}function l(){var e=u();if(!e||!e.responseEnd)return null;var t=f();return t?t+e.responseEnd:null}function h(){var e=window.performance&&window.performance.timing;return e&&e.loadEventEnd?e.loadEventEnd-e.navigationStart:0}function d(){var e=window.performance&&window.performance.timing;return e&&e.domContentLoadedEventEnd?e.domContentLoadedEventEnd-e.navigationStart:0}},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(144),c=n.n(s),u=new(function(){function e(){i()(this,e),this._ee=new c.a,this._isQueued=!0,this._queue=[]}return a()(e,[{key:"_getNamespacedEventName",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"emit",value:function(e,t,n){var r=this._getNamespacedEventName(e,t);this._queue.push({namespacedEventName:r,data:n}),this._isQueued||this._ee.emit(r,n)}},{key:"addListener",value:function(e,t,n){this._ee.addListener(this._getNamespacedEventName(e,t),n)}},{key:"addHistoricListener",value:function(e,t,n){var r=this;this.addListener(e,t,n),this._queue.forEach(function(i){var o=i.namespacedEventName,a=i.data;o===r._getNamespacedEventName(e,t)&&n(a)})}},{key:"removeListener",value:function(e,t,n){this._ee.removeListener(this._getNamespacedEventName(e,t),n)}},{key:"flush",value:function(){var e=this;this._queue.forEach(function(t){var n=t.namespacedEventName,r=t.data;return e._ee.emit(n,r)}),this._isQueued=!1}}]),e}());function f(){return u}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(41);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(100),i=n(241),o=(n(7),n(244));function a(t,n,s){return"undefined"!=typeof Reflect&&i?e.exports=a=i:e.exports=a=function(e,t,n){var i=o(e,t);if(i){var a=r(i,t);return a.get?a.get.call(n):a.value}},a(t,n,s||t)}e.exports=a},function(e,t,n){var r=n(72),i=n(59);e.exports=function(e){return r(i(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(23),i=n(52);e.exports=n(27)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=n(170)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(10),c=n.n(s),u=n(7),f=n.n(u),p=n(12),l=n.n(p),h=n(139),d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i()(this,t),(e=c()(this,f()(t).call(this,n))).message=n;try{throw new Error(n)}catch(t){var o=t.stack||"";(o=o.split("\n").splice(3)).unshift("".concat(e.name,": ").concat(e.message)),o=o.join("\n"),e.stack=o}return e.meta={},r instanceof Error&&e.addOriginalError(r),e}return l()(t,e),a()(t,[{key:"addOriginalError",value:function(e){this.meta.originalErrors||(this.meta.originalErrors=[]),this.meta.originalErrors.push({message:e.toString(),stack:e.stack})}}]),t}(n.n(h)()(Error))},function(e,t,n){var r=n(169),i=n(172),o=n(180);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t,n){var r=n(230),i=n(231),o=n(239);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="space-invaders"},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r=n(104),i=n(82);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(59);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(178)(!0);n(85)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r,i=n(267),o=n(132),a=n(269),s=n(270),c=n(271);"undefined"!=typeof ArrayBuffer&&(r=n(272));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),f="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=u||f;t.protocol=3;var l=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=i(l),d={type:"error",data:"parser error"},g=n(273);function y(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=l[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(e,n,i);if(void 0!==g&&o instanceof g)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(p)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=l[e.type];var o=new g([i.buffer,e.data]);return r(o)}(e,n,i);if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var a=l[e.type];return void 0!==e.data&&(a+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+a)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if(void 0!==g&&e.data instanceof g){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return d;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return d;var i=e.charAt(0);return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:d}i=new Uint8Array(e)[0];var o=a(e,1);return g&&"blob"===n&&(o=new g([o])),{type:h[i],data:o}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&g&&(i=new g([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return g&&!p?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");y(e,function(e,r){t.encodePacket(e,!!i&&n,!1,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(d,0,1);for(var o,a,s="",c=0,u=e.length;c<u;c++){var f=e.charAt(c);if(":"===f){if(""===s||s!=(o=Number(s)))return r(d,0,1);if(s!=(a=e.substr(c+1,o)).length)return r(d,0,1);if(a.length){if(i=t.decodePacket(a,n,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,c+o,u))return}c+=o,s=""}else s+=f}return""!==s?r(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));y(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){y(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,g){var s=new g([t.buffer,a.buffer,e]);n(null,s)}})},function(e,t){return n(new g(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],u="",f=1;255!==s[f];f++){if(u.length>310)return r(d,0,1);u+=s[f]}i=a(i,2+u.length),u=parseInt(u);var p=a(i,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var l=new Uint8Array(p);p="";for(f=0;f<l.length;f++)p+=String.fromCharCode(l[f])}o.push(p),i=a(i,u)}var h=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,h)})}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return p});var r,i=n(0);function o(){r={navigatedAt:new Date,url:Object(i.a)().location+""}}function a(e){return function(){e.apply(history,arguments),o()}}function s(){var e=Object(i.a)().history;e&&(window.addEventListener("popstate",o),["pushState","replaceState","go","back","forward"].forEach(function(t){e[t]&&(e[t]=a(e[t]))}))}var c={DIRECT:"direct",INLINE:"inline"};function u(){return r?c.INLINE:c.DIRECT}function f(){if(r)return r.navigatedAt}function p(){return u()===c.DIRECT}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=function(){function e(t,n){i()(this,e),this.name=n.name,this.value=t}return a()(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.name}}]),e}(),c=[{name:"small",definition:"only screen and (max-width: 767px)"},{name:"medium",definition:"only screen and (min-width: 768px) and (max-width: 799px)"},{name:"large",definition:"only screen and (min-width: 800px) and (max-width: 1024px)"},{name:"xlarge",definition:"only screen and (min-width: 1025px) and (max-width: 1279px)"},{name:"xxlarge",definition:"only screen and (min-width: 1280px) and (max-width: 1549px)"},{name:"xxxlarge",definition:"only screen and (min-width: 1550px)"}],u=window.matchMedia?function(e){return window.matchMedia(e)}:function(e){return{matches:e===c[3],addListener:function(){}}},f=function(){function e(){i()(this,e),this.handleMediaQuery=this.handleMediaQuery.bind(this),this.is={},this._evts={},this.current={name:"large"},this.breakpoints=c,this.setBreakpoints(!0)}return a()(e,[{key:"setBreakpoints",value:function(e){var t=this;this.breakpoints.forEach(function(n,r){var i=n.definition,o=u(i);if(t.is[n.name]=o.matches,e&&o.addListener){var a=t[n.name]=new s(r,n);o.addListener(function(e){t.handleMediaQuery(e,a)})}o.matches&&(t.current=t[n.name])})}},{key:"handleMediaQuery",value:function(e,t){if(e.matches){var n=this.current;this.setBreakpoints(!1),this.trigger("change",t,n)}}},{key:"on",value:function(e,t){var n=this._evts[e]||[];n.push(t),this._evts[e]=n}},{key:"off",value:function(e,t){var n=this._evts[e]||[],r=n.indexOf(t);r>=0&&n.splice(r,1)}},{key:"trigger",value:function(e,t,n){(this._evts[e]||[]).forEach(function(e){e(t,n)})}}]),e}();t.a=new f},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!0},function(e,t,n){var r=n(23).f,i=n(34),o=n(16)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(21),i=n(154),o=n(82),a=n(81)("IE_PROTO"),s=function(){},c=function(){var e,t=n(74)("iframe"),r=o.length;for(t.style.display="none",n(105).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){n(175);for(var r=n(11),i=n(35),o=n(45),a=n(16)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],f=r[u],p=f&&f.prototype;p&&!p[a]&&i(p,a,u),o[u]=o.Array}},function(e,t,n){var r=n(31),i=n(110),o=n(111),a=n(21),s=n(62),c=n(87),u={},f={};(t=e.exports=function(e,t,n,p,l){var h,d,g,y,v=l?function(){return e}:c(e),m=r(n,p,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(h=s(e.length);h>_;_++)if((y=t?m(a(d=e[_])[0],d[1]):m(e[_]))===u||y===f)return y}else for(g=v.call(e);!(d=g.next()).done;)if((y=i(g,m,d.value,t))===u||y===f)return y}).BREAK=u,t.RETURN=f},function(e,t,n){e.exports=n(245)},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(51),i=n(52),o=n(33),a=n(73),s=n(34),c=n(101),u=Object.getOwnPropertyDescriptor;t.f=n(27)?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(80),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],f=!1,p=-1;function l(){f&&c&&(f=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!f){var e=s(l);f=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||f||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,o,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(50),i=n(16)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=!1),e}(t=e.exports=n(259)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(63))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=!1),e}(t=e.exports=n(274)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(63))},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(4),i=n.n(r),o=n(3);function a(e){if(!(e.on||e.off||e.trigger)){var t={};return i()(e,{on:function(e,n){var r=t[e]||[];r.push(n),t[e]=r},off:function(e,n){if(void 0===e&&void 0===n)t={};else if(e&&void 0===n)t[e]=[];else{var r=t[e]||[],i=r.indexOf(n);i>=0&&r.splice(i,1)}},trigger:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t[e]||[]).forEach(function(t){try{t.apply(void 0,r)}catch(t){o.a.warn("trigger ".concat(e," has failed"),t)}})}}),e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r="data-pf-";function i(e){var t={};if(e)for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n].name;0===i.indexOf(r)&&(t[i.substr(r.length)]=e.attributes[n].value)}return t}},function(e,t,n){var r=n(50);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(17),i=n(11).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(9),i=n(6),o=n(30);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(61)("meta"),i=n(17),o=n(34),a=n(23).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(30)(function(){return c(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[r].w},onFreeze:function(e){return u&&p.NEED&&c(e)&&!o(e,r)&&f(e),e}}},function(e,t,n){var r=n(6),i=n(11),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(53)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){t.f=n(16)},function(e,t,n){var r=n(11),i=n(6),o=n(53),a=n(78),s=n(23).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(77)("keys"),i=n(61);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(50);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(53),i=n(9),o=n(103),a=n(35),s=n(45),c=n(177),u=n(54),f=n(86),p=n(16)("iterator"),l=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,d,g,y,v){c(n,t,d);var m,_,b,w=function(e){if(!l&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",k="values"==g,x=!1,E=e.prototype,O=E[p]||E["@@iterator"]||g&&E[g],P=O||w(g),A=g?k?w("entries"):P:void 0,S="Array"==t&&E.entries||O;if(S&&(b=f(S.call(new e)))!==Object.prototype&&b.next&&(u(b,C,!0),r||"function"==typeof b[p]||a(b,p,h)),k&&O&&"values"!==O.name&&(x=!0,P=function(){return O.call(this)}),r&&!v||!l&&!x&&E[p]||a(E,p,P),s[t]=P,s[C]=h,g)if(m={values:k?P:w("values"),keys:y?P:w("keys"),entries:A},v)for(_ in m)_ in E||o(E,_,m[_]);else i(i.P+i.F*(l||x),t,m);return m}},function(e,t,n){var r=n(34),i=n(44),o=n(81)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(65),i=n(16)("iterator"),o=n(45);e.exports=n(6).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t){},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(41);function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(35);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){var r=n(119);function i(t,n){return e.exports=i=r||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(260)("socket.io-parser"),i=n(42),o=n(262),a=n(127),s=n(128);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=p;var u=t.ERROR+'"encode error"';function f(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return u;n+=i}return r("encoded %j as %s",e,n),n}function p(){this.reconstructor=null}function l(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){o.removeBlobs(e,function(e){var n=o.deconstructPacket(e),r=f(n.packet),i=n.buffers;i.unshift(r),t(i)})}(e,n):n([f(e)])},i(p.prototype),p.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return h("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){var s=e.charAt(n);if(","===s)break;if(i.nsp+=s,n===e.length)break}else i.nsp="/";var c=e.charAt(n+1);if(""!==c&&Number(c)==c){for(i.id="";++n;){var s=e.charAt(n);if(null==s||Number(s)!=s){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n)),f=!1!==u&&(i.type===t.ERROR||a(u));if(!f)return h("invalid payload");i.data=u}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r=n(265);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){var r=n(47),i=n(42);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){e.exports=n(165)},function(e,t,n){e.exports=n(167)},function(e,t,n){e.exports=n(147)},function(e,t,n){e.exports=!n(27)&&!n(30)(function(){return 7!=Object.defineProperty(n(74)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(11),i=n(34),o=n(27),a=n(9),s=n(103),c=n(76).KEY,u=n(30),f=n(77),p=n(54),l=n(61),h=n(16),d=n(78),g=n(79),y=n(151),v=n(84),m=n(21),_=n(17),b=n(33),w=n(73),C=n(52),k=n(55),x=n(155),E=n(60),O=n(23),P=n(43),A=E.f,S=O.f,T=x.f,M=r.Symbol,j=r.JSON,I=j&&j.stringify,F=h("_hidden"),R=h("toPrimitive"),D={}.propertyIsEnumerable,B=f("symbol-registry"),L=f("symbols"),U=f("op-symbols"),N=Object.prototype,W="function"==typeof M,q=r.QObject,H=!q||!q.prototype||!q.prototype.findChild,K=o&&u(function(){return 7!=k(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(N,t);r&&delete N[t],S(e,t,n),r&&e!==N&&S(N,t,r)}:S,z=function(e){var t=L[e]=k(M.prototype);return t._k=e,t},V=W&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},X=function(e,t,n){return e===N&&X(U,t,n),m(e),t=w(t,!0),m(n),i(L,t)?(n.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),n=k(n,{enumerable:C(0,!1)})):(i(e,F)||S(e,F,C(1,{})),e[F][t]=!0),K(e,t,n)):S(e,t,n)},J=function(e,t){m(e);for(var n,r=y(t=b(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=w(e,!0));return!(this===N&&i(L,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,F)&&this[F][e])||t)},G=function(e,t){if(e=b(e),t=w(t,!0),e!==N||!i(L,t)||i(U,t)){var n=A(e,t);return!n||!i(L,t)||i(e,F)&&e[F][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=T(b(e)),r=[],o=0;n.length>o;)i(L,t=n[o++])||t==F||t==c||r.push(t);return r},Y=function(e){for(var t,n=e===N,r=T(n?U:b(e)),o=[],a=0;r.length>a;)!i(L,t=r[a++])||n&&!i(N,t)||o.push(L[t]);return o};W||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=l(arguments.length>0?arguments[0]:void 0),t=function(n){this===N&&t.call(U,n),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),K(this,e,C(1,n))};return o&&H&&K(N,e,{configurable:!0,set:t}),z(e)}).prototype,"toString",function(){return this._k}),E.f=G,O.f=X,n(106).f=x.f=Z,n(51).f=Q,n(83).f=Y,o&&!n(53)&&s(N,"propertyIsEnumerable",Q,!0),d.f=function(e){return z(h(e))}),a(a.G+a.W+a.F*!W,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)h($[ee++]);for(var te=P(h.store),ne=0;te.length>ne;)g(te[ne++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=M(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return void 0===t?k(e):J(k(e),t)},defineProperty:X,defineProperties:J,getOwnPropertyDescriptor:G,getOwnPropertyNames:Z,getOwnPropertySymbols:Y}),j&&a(a.S+a.F*(!W||u(function(){var e=M();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!V(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,I.apply(j,r)}}),M.prototype[R]||n(35)(M.prototype,R,M.prototype.valueOf),p(M,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){e.exports=n(35)},function(e,t,n){var r=n(34),i=n(33),o=n(152)(!1),a=n(81)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(11).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(104),i=n(82).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){e.exports=n(159)},function(e,t,n){var r=n(43),i=n(33),o=n(51).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),c=s.length,u=0,f=[];c>u;)o.call(a,n=s[u++])&&f.push(e?[n,a[n]]:a[n]);return f}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(21);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(45),i=n(16)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(21),i=n(41),o=n(16)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(31),s=n(114),c=n(105),u=n(74),f=n(11),p=f.process,l=f.setImmediate,h=f.clearImmediate,d=f.MessageChannel,g=f.Dispatch,y=0,v={},m=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){m.call(e.data)};l&&h||(l=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},h=function(e){delete v[e]},"process"==n(50)(p)?r=function(e){p.nextTick(a(m,e,1))}:g&&g.now?r=function(e){g.now(a(m,e,1))}:d?(o=(i=new d).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",_,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:l,clear:h}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(21),i=n(17),o=n(90);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(11),i=n(6),o=n(23),a=n(27),s=n(16)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(16)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){e.exports=n(197)},function(e,t,n){e.exports=n(200)},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(251),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(124).Symbol;e.exports=r},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){return n&&Buffer.isBuffer(e)||r&&(e instanceof ArrayBuffer||i(e))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,r="function"==typeof ArrayBuffer,i=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},function(e,t,n){var r=n(263),i=n(135),o=n(42),a=n(95),s=n(136),c=n(137),u=n(66)("socket.io-client:manager"),f=n(134),p=n(279),l=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)l.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)l.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",function(){i.onopen(),e&&e()}),a=s(n,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var f=setTimeout(function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(o),this.subs.push(a),this},h.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&o()}function o(){~f(r.connecting,n)||r.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(96),i=n(266),o=n(275),a=n(276);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},function(e,t,n){var r=n(97),i=n(67),o=n(47),a=n(68),s=n(133),c=n(69)("engine.io-client:polling");e.exports=f;var u=null!=new(n(96))({xdomain:!1}).responseType;function f(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}a(f,r),f.prototype.name="polling",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},f.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},f.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},f.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},f.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){var r=n(268),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(r(t)){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return!0;return!1}},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,a={},s=0,c=0;function u(e){var t="";do{t=i[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function f(){var e=u(+new Date);return e!==r?(s=0,r=e):e+"."+u(s++)}for(;c<o;c++)a[i[c]]=c;f.encode=u,f.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*o+a[e.charAt(c)];return t},e.exports=f},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(95),i=n(42),o=n(278),a=n(136),s=n(137),c=n(66)("socket.io-client:socket"),u=n(67),f=n(132);e.exports=h;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=i.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},h.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(p.hasOwnProperty(e))return l.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:f(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},h.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?l.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),t.packet({type:f(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)l.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=!1),e}(t=e.exports=n(161)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(63))},function(e,t,n){var r=n(120),i=n(202),o=n(7),a=n(92),s=n(217),c=n(218);function u(t){var n="function"==typeof i?new i:void 0;return e.exports=u=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return c(e,arguments,o(this).constructor)}return t.prototype=r(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},u(t)}e.exports=u},function(e,t){e.exports=function(e){function t(e){if(e!==Object(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var n,r;(n=e.url,(r=document.createElement("a")).href=n,{hostname:r.hostname,protocol:r.protocol,pathname:r.pathname,queryString:r.search}).hostname!=window.location.hostname&&"undefined"!=typeof XDomainRequest&&(e.end=function(e){var n=this,r=this.xhr=new XDomainRequest;r.getAllResponseHeaders=function(){return""},r.getResponseHeader=function(e){if("content-type"==e)return"application/json"};var i=this._query.join("&"),o=this._formData||this._data;if(this._callback=e||function(){},r.onload=function(){r.status=200,n.emit("end")},r.onerror=function(){return r.status=400,n.aborted?n.timeoutError():n.crossDomainError()},r.onprogress=function(){n.emit("progress",50)},r.ontimeout=function(){return r.status=408,n.timeoutError()},i&&(i=t(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),"GET"!=this.method&&"POST"!=this.method)throw"Only Get and Post methods are supported by XDomainRequest object.";return r.open(this.method,this.url,!0),"POST"==this.method&&"string"!=typeof o&&(o=t(o)),this.emit("request",this),r.send(o),this})}},function(e,t,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var i=n(42),o=n(223),a=n(122);function s(){}var c=e.exports=n(224).bind(null,g);c.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var u="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!a(e))return e;var t=[];for(var n in e)p(t,n,e[n]);return t.join("&")}function p(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){p(e,t,n)});else if(a(n))for(var r in n)p(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function l(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)-1==(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function h(e){return/[\/+]json\b/.test(e)}function d(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=function(e){var t,n,r,i,o=e.split(/\r?\n/),a={};o.pop();for(var s=0,c=o.length;s<c;++s)t=(n=o[s]).indexOf(":"),r=n.slice(0,t).toLowerCase(),i=u(n.slice(t+1)),a[r]=i;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function g(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,r=null;try{r=new d(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}n.emit("response",r);try{(r.status<200||r.status>=300)&&((e=new Error(r.statusText||"Unsuccessful HTTP response")).original=t,e.response=r,e.status=r.status)}catch(t){e=t}e?n.callback(e,r):n.callback(null,r)})}for(var y in c.serializeObject=f,c.parseString=l,c.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},d.prototype.get=function(e){return this.header[e.toLowerCase()]},d.prototype._setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=t.split(/ *; */).shift();var n=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})}(t);for(var r in n)this[r]=n[r]},d.prototype._parseBody=function(e){var t=c.parse[this.type];return!t&&h(this.type)&&(t=c.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},d.prototype._setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},d.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},c.Response=d,i(g.prototype),o)g.prototype[y]=o[y];function v(e,t){var n=c("DELETE",e);return t&&n.end(t),n}g.prototype.type=function(e){return this.set("Content-Type",c.types[e]||e),this},g.prototype.responseType=function(e){return this._responseType=e,this},g.prototype.accept=function(e){return this.set("Accept",c.types[e]||e),this},g.prototype.auth=function(e,t,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(e+":"+t);this.set("Authorization","Basic "+r);break;case"auto":this.username=e,this.password=t}return this},g.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},g.prototype.attach=function(e,t,n){return this._getFormData().append(e,t,n||t.name),this},g.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},g.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},g.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},g.prototype._timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},g.prototype._appendQueryString=function(){var e=this._query.join("&");e&&(this.url+=~this.url.indexOf("?")?"&"+e:"?"+e)},g.prototype.end=function(e){var t=this,n=this.xhr=c.getXHR(),r=this._timeout,i=this._formData||this._data;this._callback=e||s,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t._timeoutError();if(t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{n.onprogress=o.bind(null,"download"),n.upload&&(n.upload.onprogress=o.bind(null,"upload"))}catch(e){}if(r&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},r)),this._appendQueryString(),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof i&&!this._isHost(i)){var a=this._header["content-type"],u=this._serializer||c.serialize[a?a.split(";")[0]:""];!u&&h(a)&&(u=c.serialize["application/json"]),u&&(i=u(i))}for(var f in this.header)null!=this.header[f]&&n.setRequestHeader(f,this.header[f]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==i?i:null),this},c.Request=g,c.get=function(e,t,n){var r=c("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},c.head=function(e,t,n){var r=c("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.options=function(e,t,n){var r=c("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.del=v,c.delete=v,c.patch=function(e,t,n){var r=c("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.post=function(e,t,n){var r=c("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.put=function(e,t,n){var r=c("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(o),c=i.decode||r,u=0;u<a.length;u++){var f=a[u],p=f.indexOf("=");if(!(p<0)){var l=f.substr(0,p).trim(),h=f.substr(++p,f.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),null==n[l]&&(n[l]=s(h,c))}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(u)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){var f="string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite;switch(f){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,i=encodeURIComponent,o=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return WidgetHandler});var _babel_runtime_corejs2_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39),_babel_runtime_corejs2_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_corejs2_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_corejs2_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_babel_runtime_corejs2_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_corejs2_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_corejs2_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_babel_runtime_corejs2_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_corejs2_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_corejs2_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_babel_runtime_corejs2_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_corejs2_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),_applications_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(40),_utils_performance_metrics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26),_utils_navigation__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48),_utils_request__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),_utils_events_mixin__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(70),_internal_event_emitter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),_page_config__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(71),_breakpoint__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(49),_utils_mini_lodash__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5),API_PARAMS="token,language,direct-price,direct-cug-price,always-show-cug,logged-in,currency,direct-price-tax,room-type,room-rate,room-flags,checkin,checkout,rooms,adults,children,children-ages,total,property,layout,autoopen,align,offset,render,format,price-check-test,rounding,regions,country-code,exclude-discount,rates-modified",MAX_Z_INDEX=2147483647,ALLOW_FULLSCREEN_TO_HAVE_A_HIGHER_Z_INDEX=1,defaultStyle={display:"block",float:"none",margin:0,padding:0,border:0,backgroundColor:"transparent",position:"fixed",right:0,width:0,height:0,zIndex:MAX_Z_INDEX-ALLOW_FULLSCREEN_TO_HAVE_A_HIGHER_Z_INDEX},defaultBreakpoints={small:"mobile",medium:"tablet",large:"tablet",xlarge:"tablet",xxlarge:"tablet",xxxlarge:"desktop"},professionalBreakpoints={small:"mobile",medium:"desktop",large:"desktop",xlarge:"desktop",xxlarge:"desktop",xxxlarge:"desktop"},id=0,rateDetails,excludedRates,allowedRates,promoCodes,allowedPromoCodes,disableParityMonitoring,WidgetHandler=function(){function WidgetHandler(e){_babel_runtime_corejs2_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this,WidgetHandler),Object(_utils_events_mixin__WEBPACK_IMPORTED_MODULE_9__.a)(this),this.messageQueue=[],this.messageBusFactory=e.messageBusFactory,this.logger=e.logger,this._isTodayPriceWidget=e.isTodayPriceWidget||!1,this.appInstanceId=e.appInstanceId,this._messenger=e.messenger,this.loadIframe=!1!==e.loadIframe,this.startup(e),this.id=id++,this.handleBreakpointChange=this.handleBreakpointChange.bind(this),_breakpoint__WEBPACK_IMPORTED_MODULE_12__.a.on("change",this.handleBreakpointChange),window.addEventListener("message",this.handleMessageForRateDetails,!1)}return _babel_runtime_corejs2_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(WidgetHandler,[{key:"startup",value:function(e){var t=e.customContainer,n=void 0===t?this.customContainer:t,r=e.el,i=void 0===r?this.widget:r,o=e.config,a=void 0===o?this.remoteConfig:o,s=e.isActive,c=e.preloadData,u=void 0===c||c;this.customContainer=n;var f=n||i;this.constructConfig({el:i,config:a,isActive:s})&&(u&&this.loadPriceData(),this.loadIframe&&this.setupIframe(),this.iframe&&(f.appendChild(this.iframe),this.iframe.onload=this.onIframeLoaded.bind(this,this.messageBusFactory)))}},{key:"constructConfig",value:function(e){var t=e.el,n=e.config,r=void 0===n?this.remoteConfig:n,i=e.isActive;this.widget=t,this.remoteConfig=r;var o=Object(_page_config__WEBPACK_IMPORTED_MODULE_11__.a)(t);this.divConfig=o;var a,s,c,u=_breakpoint__WEBPACK_IMPORTED_MODULE_12__.a.is.small;if(Object(_utils_navigation__WEBPACK_IMPORTED_MODULE_7__.d)())c=_utils_performance_metrics__WEBPACK_IMPORTED_MODULE_6__.f,a=Object(_utils_performance_metrics__WEBPACK_IMPORTED_MODULE_6__.c)(),s=Object(_utils_performance_metrics__WEBPACK_IMPORTED_MODULE_6__.b)();else{var f=Object(_utils_navigation__WEBPACK_IMPORTED_MODULE_7__.a)();c=f?f.getTime():null,a=0,s=0}var p=this.isTodayPriceWidget();return this.breakpointMap=_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()({},defaultBreakpoints,r.widget&&r.widget.breakpoints),this.options=this._constructConfig({paperboyDownloadStartTimestamp:Object(_utils_performance_metrics__WEBPACK_IMPORTED_MODULE_6__.e)(),paperboyDownloadEndTimestamp:Object(_utils_performance_metrics__WEBPACK_IMPORTED_MODULE_6__.d)(),navigationType:Object(_utils_navigation__WEBPACK_IMPORTED_MODULE_7__.b)(),remoteConfig:r,referrer:location.href,paperboyStartTimestamp:c,paperboyLoadTime:a,showBestPrice:p,pageLoadTime:s,pageConfig:o,isMobile:u}),!("scripted"===this.options.widget.activation&&!i)||(this.logger.info('Waiting for activation (activation="scripted").'),!1)}},{key:"_constructConfig",value:function(e){var t=e.remoteConfig,n=e.pageConfig,r=e.isMobile,i=e.referrer,o=e.paperboyStartTimestamp,a=e.paperboyLoadTime,s=e.pageLoadTime,c=e.showBestPrice,u=e.paperboyDownloadStartTimestamp,f=e.paperboyDownloadEndTimestamp,p=e.navigationType;n=_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()({},n);var l=_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()({},n,t.widget);for(var h in l)l[h]=null==l[h]?n[h]||null:l[h];"professional"===l.layout&&(l.layout="rocket",l.unifiedRocketTransition=!0,this.breakpointMap=professionalBreakpoints),l.layout||(l.layout="apollo-v2");var d=this.getApiKey(n,t),g=this.parseQueryParams(l,t,i,d),y=_breakpoint__WEBPACK_IMPORTED_MODULE_12__.a.current.name;return _babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()({},t,{breakpoint:this.breakpointMap[y],paperboyStartTimestamp:o,paperboyLoadTime:a,widget:l,breakpointValue:y,showBestPrice:c,navigationType:p,paperboyDownloadStartTimestamp:u,paperboyDownloadEndTimestamp:f,pageLoadTime:s,queryParams:g,isMobile:r})}},{key:"handleMessageForRateDetails",value:function(e){e.data&&"triptease.integration.config.changed"===e.data.type&&(rateDetails=e.data.config.rateDetails,excludedRates=e.data.config.excludedRates,allowedRates=e.data.config.allowedRates,promoCodes=e.data.config.promoCodes,allowedPromoCodes=e.data.config.allowedPromoCodes,disableParityMonitoring=e.data.config.disableParityMonitoring)}},{key:"getApiKey",value:function(e,t){var n=e.hotelkey,r=e.token,i=t.apiKey;return n||r||i}},{key:"isTodayPriceWidget",value:function(){return this._isTodayPriceWidget}},{key:"setupIframe",value:function(e){var t=this.options.widget,n=t.zindex,r=t.layout,i=t.version,o=this._getWidgetHost();e||(e=this.iframeFactory({widgetHost:o,layout:r,version:i})),e&&(this.iframe=e,this.updateIframeStyle(defaultStyle,{zIndex:n||defaultStyle.zIndex}))}},{key:"parseQueryParams",value:function(e,t,n,r){return window.triptease&&window.triptease.integration&&window.triptease.integration.data&&window.triptease.integration.data.pageData&&(rateDetails=window.triptease.integration.data.pageData.rateDetails,excludedRates=window.triptease.integration.data.pageData.excludedRates,allowedRates=window.triptease.integration.data.pageData.allowedRates,promoCodes=window.triptease.integration.data.pageData.promoCodes,allowedPromoCodes=window.triptease.integration.data.pageData.allowedPromoCodes,disableParityMonitoring=window.triptease.integration.data.pageData.disableParityMonitoring),window.triptease&&window.triptease.integration&&window.triptease.integration.config&&(rateDetails=window.triptease.integration.config.rateDetails,excludedRates=window.triptease.integration.config.excludedRates,allowedRates=window.triptease.integration.config.allowedRates,promoCodes=window.triptease.integration.config.promoCodes,allowedPromoCodes=window.triptease.integration.config.allowedPromoCodes,disableParityMonitoring=window.triptease.integration.config.disableParityMonitoring),_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()(Object(_utils_mini_lodash__WEBPACK_IMPORTED_MODULE_13__.g)(e,API_PARAMS.split(",")),{_ref:n,_cid:t.userId,_sid:t.sessionId,_pid:t.pageVisitId,_aid:this.appInstanceId,src:"widget",token:r},rateDetails?{rateDetails:rateDetails}:{},excludedRates?{excludedRates:excludedRates}:{},allowedRates?{allowedRates:allowedRates}:{},promoCodes?{promoCodes:promoCodes}:{},allowedPromoCodes?{allowedPromoCodes:allowedPromoCodes}:{},disableParityMonitoring?{disableParityMonitoring:disableParityMonitoring}:{})}},{key:"getPriceCheckEndpoint",value:function(){var e=this.remoteConfig.priceApiUrl,t={method:"get",url:"".concat(e,"/todaysprice"),queryParams:this.options.queryParams},n={method:"post",url:"".concat(e,"/price-check"),dataParams:this.options.queryParams};return"today"===this.options.widget["direct-price-type"]?t:n}},{key:"loadPriceData",value:function(){var e=this.getPriceCheckEndpoint();this.requestHandle=Object(_utils_request__WEBPACK_IMPORTED_MODULE_8__.d)(_babel_runtime_corejs2_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({},e,{flags:["withCredentials"],callback:this.handleApiResponse.bind(this)}))}},{key:"handleApiResponse",value:function(e,t){if(e||!t.ok||t&&t.body&&t.body.error)Object(_internal_event_emitter__WEBPACK_IMPORTED_MODULE_10__.a)().emit(_applications_constants__WEBPACK_IMPORTED_MODULE_5__.a,"apiSearchFailed",{queryParams:this.options.queryParams}),this.handleApiError(e,t);else{var n={queryParams:this.options.queryParams,body:t.body};Object(_internal_event_emitter__WEBPACK_IMPORTED_MODULE_10__.a)().emit(_applications_constants__WEBPACK_IMPORTED_MODULE_5__.a,"apiSearch",n),this.postMessage("data",t.body)}}},{key:"handleApiError",value:function(e,t){var n,r=this;try{n=t.body.error.message}catch(e){}Object(_utils_mini_lodash__WEBPACK_IMPORTED_MODULE_13__.e)(n)?n.forEach(function(e){r.logger.warn("Integration error: ".concat(e.msg," [data-pf-").concat(e.param,"=").concat(e.value,"]"))}):"string"==typeof n&&this.logger.warn(n)}},{key:"reset",value:function(e){var t=e.el;this.trigger("reset"),this.requestHandle&&this.requestHandle.abort();var n=Boolean(this.iframe);this.constructConfig({el:t,isActive:n})&&(n?(this.loadPriceData(),this.messageQueue=[],this.resetIframeStyle(),this.setupIframe(this.iframe),this.sendConfig("update")):this.startup({el:t}))}},{key:"handleBreakpointChange",value:function(e){this.postMessage("breakpoint",{isMobile:_breakpoint__WEBPACK_IMPORTED_MODULE_12__.a.is.small,breakpoint:this.breakpointMap[e.name],breakpointValue:e.name})}},{key:"onIframeLoaded",value:function(e){if(this._applicationMessageBus=e({widgetId:this.id,iframe:this.iframe,targetDomain:this._getWidgetHost()}),!this._applicationMessageBus)throw Error("Failed to create message bus");this.iframeLoaded=!0,this.sendConfig(),this.sendMessageQueue()}},{key:"sendConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"config";this.postMessage(e,_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()({id:this.id,iframeStyle:this._iframeStyle,parentWindow:{innerHeight:window.innerHeight,innerWidth:window.innerWidth}},this.options))}},{key:"sendMessageQueue",value:function(){var e=this;this.messageQueue.forEach(function(t){var n=t.type,r=t.data;return e.postMessage(n,r)}),this.messageQueue=[]}},{key:"postMessage",value:function(e,t){this.iframeLoaded?this._applicationMessageBus&&this._applicationMessageBus.sendMessage(e,t):this.messageQueue.push({type:e,data:t})}},{key:"handleStyleUpdate",value:function(e){e&&this.updateIframeStyle(e)}},{key:"updateIframeStyle",value:function(e,t,n){this._iframeStyle=_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()({},e,t,n),_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default()(this.iframe.style,this._iframeStyle)}},{key:"resetIframeStyle",value:function(){var e,t={};for(e in this._iframeStyle)t[e]=void 0;this.updateIframeStyle(t,defaultStyle)}},{key:"_createExecuteCallback",value:function(e){var t=this;return function(n){var r;n instanceof Error&&(r=n,n=void 0),t.postMessage("execResponse",{id:e,res:n,error:r&&{message:r.message,stack:r.stack}})}}},{key:"execute",value:function execute(data){var func,args,error,id=data.msgId,send=this._createExecuteCallback(id);try{func=eval(data.func),args=JSON.parse(data.args),func.apply(void 0,[send].concat(_babel_runtime_corejs2_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(args)))}catch(e){error=e}}},{key:"iframeFactory",value:function(e){var t=e.widgetHost,n=e.layout,r=e.version;if(n){var i=document.createElement("iframe"),o=r?"".concat(n,"-").concat(r):n;return i.src="".concat(t,"/").concat(o,".html"),i.setAttribute("scrolling","no"),i.setAttribute("title","Price Comparison Widget"),i.setAttribute("class","tt-".concat(n)),i}}},{key:"sendCommand",value:function(e,t){this.postMessage(e,t)}},{key:"activate",value:function(){this.options&&("scripted"!==this.options.widget.activation||this.iframe?this.sendCommand("activate"):this.startup({isActive:!0}))}},{key:"remove",value:function(){if(_breakpoint__WEBPACK_IMPORTED_MODULE_12__.a.off("change",this.handleBreakpointChange),this._applicationMessageBus&&(this._applicationMessageBus.destroy(),this._applicationMessageBus=null),this.iframe)try{this.iframe.parentElement.removeChild(this.iframe),this.iframe=null}catch(e){}}},{key:"_getWidgetHost",value:function(){var e=this.options.widget["widget-host-override"];return e?"".concat(window.location.protocol,"//").concat(e.replace(/^(https?:)?\/\//,"")):this.remoteConfig.widgetHost}}]),WidgetHandler}()},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function l(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):d(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,f=d(c,u);for(n=0;n<u;++n)o(f[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return l(this,e,!0)},s.prototype.rawListeners=function(e){return l(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(249),i=n(94),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,n){var r=n(258),i=n(95),o=n(129),a=n(66)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,u=i.id,f=i.path,p=s[u]&&f in s[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(a("ignoring socket cache for %s",c),n=o(c,t)):(s[u]||(a("new io instance for %s",c),s[u]=o(c,t)),n=s[u]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=c,t.Manager=n(129),t.Socket=n(135)},function(e,t,n){n(148);var r=n(6).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(33),i=n(60).f;n(75)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){e.exports=n(150)},function(e,t,n){n(102),e.exports=n(6).Object.getOwnPropertySymbols},function(e,t,n){var r=n(43),i=n(83),o=n(51);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(33),i=n(62),o=n(153);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),f=o(a,u);if(e&&n!=n){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((e||f in c)&&c[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(80),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(23),i=n(21),o=n(43);e.exports=n(27)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(33),i=n(106).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(157),e.exports=n(6).Object.keys},function(e,t,n){var r=n(44),i=n(43);n(75)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(107);e.exports=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){n(160);var r=n(6).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(9);r(r.S+r.F*!n(27),"Object",{defineProperty:n(23).f})},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){n(163),e.exports=n(6).Object.assign},function(e,t,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(164)})},function(e,t,n){"use strict";var r=n(43),i=n(83),o=n(51),a=n(44),s=n(72),c=Object.assign;e.exports=!c||n(30)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,f=i.f,p=o.f;c>u;)for(var l,h=s(arguments[u++]),d=f?r(h).concat(f(h)):r(h),g=d.length,y=0;g>y;)p.call(h,l=d[y++])&&(n[l]=h[l]);return n}:c},function(e,t,n){n(166),e.exports=n(6).Object.values},function(e,t,n){var r=n(9),i=n(108)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){n(168),e.exports=n(6).Object.entries},function(e,t,n){var r=n(9),i=n(108)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var r=n(36);e.exports=function(e){if(r(e))return e}},function(e,t,n){n(171),e.exports=n(6).Array.isArray},function(e,t,n){var r=n(9);r(r.S,"Array",{isArray:n(84)})},function(e,t,n){var r=n(173);e.exports=function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var s,c=r(e);!(i=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}},function(e,t,n){e.exports=n(174)},function(e,t,n){n(56),n(46),e.exports=n(179)},function(e,t,n){"use strict";var r=n(176),i=n(109),o=n(45),a=n(33);e.exports=n(85)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(55),i=n(52),o=n(54),a={};n(35)(a,n(16)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(80),i=n(59);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(21),i=n(87);e.exports=n(6).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(6),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){e.exports=n(183)},function(e,t,n){n(46),n(56),e.exports=n(78).f("iterator")},function(e,t,n){e.exports=n(185)},function(e,t,n){n(102),n(88),n(186),n(187),e.exports=n(6).Symbol},function(e,t,n){n(79)("asyncIterator")},function(e,t,n){n(79)("observable")},function(e,t,n){n(88),n(46),n(56),n(189),n(192),n(193),e.exports=n(6).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(53),c=n(11),u=n(31),f=n(65),p=n(9),l=n(17),h=n(41),d=n(89),g=n(57),y=n(112),v=n(113).set,m=n(190)(),_=n(90),b=n(115),w=n(191),C=n(116),k=c.TypeError,x=c.process,E=x&&x.versions,O=E&&E.v8||"",P=c.Promise,A="process"==f(x),S=function(){},T=i=_.f,M=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(16)("species")]=function(e){e(S,S)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),j=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(i||(2==e._h&&D(e),e._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===t.promise?u(k("Promise-chain cycle")):(o=j(n))?o.call(n,c,u):c(n)):u(r)}catch(e){f&&!a&&f.exit(),u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&F(e)})}},F=function(e){v.call(c,function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=b(function(){A?x.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){v.call(c,function(){var t;A?x.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=j(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,u(L,r,1),u(B,r,1))}catch(e){B.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};M||(P=function(e){d(this,P,"Promise","_h"),h(e),r.call(this);try{e(u(L,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(91)(P.prototype,{then:function(e,t){var n=T(y(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(L,e,1),this.reject=u(B,e,1)},_.f=T=function(e){return e===P||e===a?new o(e):i(e)}),p(p.G+p.W+p.F*!M,{Promise:P}),n(54)(P,"Promise"),n(117)("Promise"),a=n(6).Promise,p(p.S+p.F*!M,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!M),"Promise",{resolve:function(e){return C(s&&this===a?P:this,e)}}),p(p.S+p.F*!(M&&n(118)(function(e){P.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=T(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;g(e,!1,function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,i=b(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(11),i=n(113).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(50)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(u)}}else n=function(){i.call(r,u)};else{var p=!0,l=document.createTextNode("");new o(u).observe(l,{characterData:!0}),n=function(){l.data=p=!p}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(11).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(9),i=n(6),o=n(11),a=n(112),s=n(116);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(9),i=n(90),o=n(115);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports=n(195)},function(e,t,n){n(196),e.exports=n(6).Object.getPrototypeOf},function(e,t,n){var r=n(44),i=n(86);n(75)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){n(198),e.exports=n(6).Object.setPrototypeOf},function(e,t,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(199).set})},function(e,t,n){var r=n(17),i=n(21),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(31)(Function.call,n(60).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){n(201);var r=n(6).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(9);r(r.S,"Object",{create:n(55)})},function(e,t,n){e.exports=n(203)},function(e,t,n){n(88),n(46),n(56),n(204),n(210),n(213),n(215),e.exports=n(6).Map},function(e,t,n){"use strict";var r=n(205),i=n(121);e.exports=n(206)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(23).f,i=n(55),o=n(91),a=n(31),s=n(89),c=n(57),u=n(85),f=n(109),p=n(117),l=n(27),h=n(76).fastKey,d=n(121),g=l?"_s":"size",y=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var f=e(function(e,r){s(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=r&&c(r,n,e[u],e)});return o(f.prototype,{clear:function(){for(var e=d(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=d(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){d(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(d(this,t),e)}}),l&&r(f.prototype,"size",{get:function(){return d(this,t)[g]}}),f},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=d(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?f(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,f(1))},n?"entries":"values",!n,!0),p(t)}}},function(e,t,n){"use strict";var r=n(11),i=n(9),o=n(76),a=n(30),s=n(35),c=n(91),u=n(57),f=n(89),p=n(17),l=n(54),h=n(23).f,d=n(207)(0),g=n(27);e.exports=function(e,t,n,y,v,m){var _=r[e],b=_,w=v?"set":"add",C=b&&b.prototype,k={};return g&&"function"==typeof b&&(m||C.forEach&&!a(function(){(new b).entries().next()}))?(b=t(function(t,n){f(t,b,e,"_c"),t._c=new _,null!=n&&u(n,v,t[w],t)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in C&&(!m||"clear"!=e)&&s(b.prototype,e,function(n,r){if(f(this,b,e),!t&&m&&!p(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),m||h(b.prototype,"size",{get:function(){return this._c.size}})):(b=y.getConstructor(t,e,v,w),c(b.prototype,n),o.NEED=!0),l(b,e),k[e]=b,i(i.G+i.W+i.F,k),m||y.setStrong(b,e,v),b}},function(e,t,n){var r=n(31),i=n(72),o=n(44),a=n(62),s=n(208);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,f=4==e,p=6==e,l=5==e||p,h=t||s;return function(t,s,d){for(var g,y,v=o(t),m=i(v),_=r(s,d,3),b=a(m.length),w=0,C=n?h(t,b):c?h(t,0):void 0;b>w;w++)if((l||w in m)&&(y=_(g=m[w],w,v),e))if(n)C[w]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:C.push(g)}else if(f)return!1;return p?-1:u||f?f:C}}},function(e,t,n){var r=n(209);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(17),i=n(84),o=n(16)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(9);r(r.P+r.R,"Map",{toJSON:n(211)("Map")})},function(e,t,n){var r=n(65),i=n(212);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(57);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(214)("Map")},function(e,t,n){"use strict";var r=n(9);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(216)("Map")},function(e,t,n){"use strict";var r=n(9),i=n(41),o=n(31),a=n(57);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(n=[],t?(r=0,s=o(c,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(219),i=n(92);function o(t,n,a){return!function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}:e.exports=o=r,o.apply(null,arguments)}e.exports=o},function(e,t,n){e.exports=n(220)},function(e,t,n){n(221),e.exports=n(6).Reflect.construct},function(e,t,n){var r=n(9),i=n(55),o=n(41),a=n(21),s=n(17),c=n(30),u=n(222),f=(n(11).Reflect||{}).construct,p=c(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),l=!c(function(){f(function(){})});r(r.S+r.F*(p||l),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(l&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,h=i(s(c)?c:Object.prototype),d=Function.apply.call(e,h,t);return s(d)?d:h}})},function(e,t,n){"use strict";var r=n(41),i=n(17),o=n(114),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t,n){var r=n(122);t.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},t.parse=function(e){return this._parser=e,this},t.serialize=function(e){return this._serializer=e,this},t.timeout=function(e){return this._timeout=e,this},t.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},t.catch=function(e){return this.then(void 0,e)},t.use=function(e){return e(this),this},t.get=function(e){return this._header[e.toLowerCase()]},t.getHeader=t.get,t.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},t.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},t.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(r(e)){for(var n in e)this.field(n,e[n]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return this._getFormData().append(e,t),this},t.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},t.withCredentials=function(){return this._withCredentials=!0,this},t.redirects=function(e){return this._maxRedirects=e,this},t.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},t._isHost=function(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},t.send=function(e){var t=r(e),n=this._header["content-type"];if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)}},function(e,t){e.exports=function(e,t,n){return"function"==typeof n?new e("GET",t).end(n):2==arguments.length?new e("GET",t):new e(t,n)}},function(e,t,n){"use strict";n.r(t),t.default={env:"local",debug:!0,identityServiceUrl:"http://localhost:3400",conversionsUrl:"http://localhost:3490",socketUrl:"http://localhost:3400",socketPath:"/identity-service/socket.io",configApiUrl:"http://localhost:8103",widgetLoaderUrl:"http://localhost:3000/assets/loader/loader.js",widgetHost:"http://localhost:3000",priceApiUrl:"//localhost:3300",messageEngineUrl:"http://localhost:8010/development/message-engine.js",zappyUrl:"https://stg-api.triptease.io/zappy",chatSocketUrl:"https://localhost:8200",chatSocketUrlAlternate:"https://localhost:8200",chatSocketPath:"/guestpa/socket",barcodeScriptUrl:"http://localhost:8109/barcode.js",onboardMessagesUrl:"http://localhost:8104",statHatUserKey:"ODYzNCBakNIXrfT9HqbcFdbD4Cit",statHatKeys:{"paperboy.zappy.response_time":"dcBOpxWHasBIaChvAC1geSBZSFJ2Zg~~","paperboy.zappy.write_attempts":"tGo44TKTO1iZzwrilVADZCBNZ1FG","paperboy.zappy.error":"TB2nYd-d_SmO7Ll7KCjFRCBRQWIx"},zappyBatchInterval:5}},function(e,t,n){"use strict";n.r(t);var r=n(22);t.default={env:"development",debug:!0,identityServiceUrl:r.a+"://dev-api.triptease.io/identity-service",conversionsUrl:"https://dev-api.triptease.io/identity-service",socketUrl:"https://dev-api.triptease.io/",socketPath:"/identity-service/socket.io",configApiUrl:r.a+"://dev-api.triptease.io/config-service",widgetLoaderUrl:"https://dev-widget.triptease.net/loader.js",widgetHost:"https://dev-static.triptease.io/price-check",priceApiUrl:"https://price-check.pf.triptease.io",zappyUrl:r.a+"://dev-api.triptease.io/zappy",chatSocketUrl:"https://dev-frontdesk-api.triptease.io",chatSocketUrlAlternate:"https://dev-frontdesk-api-b.triptease.io",chatSocketPath:"/guestpa/socket",barcodeScriptUrl:"//static.triptease.io/alchemy-experiments/barcode.js",onboardMessagesUrl:"http://localhost:8104",zappyBatchInterval:5}},function(e,t,n){"use strict";n.r(t);var r=n(22);t.default={env:"staging",debug:!0,identityServiceUrl:r.a+"://stg-api.triptease.io/identity-service",conversionsUrl:"https://stg-api.triptease.io/identity-service",socketUrl:"https://stg-api.triptease.io/",socketPath:"/identity-service/socket.io",configApiUrl:r.a+"://stg-static.triptease.io/config-service",widgetLoaderUrl:"https://stg-widget.triptease.net/loader.js",widgetHost:"https://stg-static.triptease.io/price-check",priceApiUrl:"https://price-check.pf.triptease.io",messageEngineUrl:"https://stg-static.triptease.io/message-porter/dist/message-engine.js",zappyUrl:r.a+"://stg-api.triptease.io/zappy",chatSocketUrl:"https://stg-frontdesk-api.triptease.io",chatSocketUrlAlternate:"https://stg-frontdesk-api-b.triptease.io",chatSocketPath:"/guestpa/socket",barcodeScriptUrl:"//static.triptease.io/alchemy-experiments/barcode.js",onboardMessagesUrl:"https://messages-publisher.a.triptease.io",statHatUserKey:"ODYzNCBakNIXrfT9HqbcFdbD4Cit",statHatKeys:{"paperboy.guestpa.init":"-CWoMadT66iJzTvrpT2RDSBBYkZl","paperboy.guestpa.connected":"ZjwuVG12aHzSBNsSk8xbgiBISlhD","paperboy.guestpa.socketError":"rVkWzHD_mkeIfjip9GiXRCBJaXl2"},zappyBatchInterval:5}},function(e,t,n){"use strict";n.r(t);var r=n(22);t.default={env:"production",debug:!1,identityServiceUrl:r.a+"://api.triptease.io/identity-service",conversionsUrl:"https://api.triptease.io/identity-service",socketUrl:"https://api.triptease.io/",socketPath:"/identity-service/socket.io",configApiUrl:r.a+"://static.triptease.io/config-service",widgetLoaderUrl:"https://widget.triptease.net/loader.js",widgetHost:"https://static.triptease.io/price-check",priceApiUrl:"https://price-check.pf.triptease.io",messageEngineUrl:"https://static.triptease.io/message-porter/dist/message-engine.js",zappyUrl:r.a+"://api.triptease.io/zappy",chatSocketUrl:"https://frontdesk-api.triptease.io",chatSocketUrlAlternate:"https://frontdesk-api-b.triptease.io",chatSocketPath:"/guestpa/socket",barcodeScriptUrl:"//static.triptease.io/alchemy-experiments/barcode.js",onboardMessagesUrl:"https://onboard.triptease.io",statHatUserKey:"ODYzNCBakNIXrfT9HqbcFdbD4Cit",statHatKeys:{"paperboy.identity.load.attempt":"ihPN5O_7eDNJ21UAUP9FoiBLVmhi","paperboy.identity.load.success":"uQfwvYYja7gqxSwgEohLzyAzb3Fr","paperboy.identity.load.invalid_session":"RFu4RfTCLz31I9TDShT7YyAyQzFHbA~~","paperboy.identity.load.error":"KjPmL-Gd0fFCQ68pol5v5CBPbnVh","paperboy.identity.load.failed":"_Md5H5wPIiG5GzezL228rCBGczJq","paperboy.identity.load.forbidden":"weKsodXaZKFyMl0leQZzlSBUM3Vx","paperboy.socket.identity.connect_attempt":"_3arnQnNq_jLnKASfTzGxyBSZ3AzaA~~","paperboy.socket.identity.connect":"TmtDEdwkdc8GLAAd2R6MhyBCQURp","paperboy.socket.identity.disconnect":"CS5FuAQFQP14CmbdJ7Zv6iBVdXJu","paperboy.socket.identity.error":"8AxRR9roZ2-3NykBmLlM7CBMZmtyWQ~~","paperboy.socket.identity.reconnect_attempt":"RMmdXI_W3Eq3bvKfc03GdiBXdVNO","paperboy.socket.identity.reconnect":"omoypSNjrs1Y2YsTZC51GCA1VFV6","paperboy.socket.identity.reconnect_error":"-ujBT4AjG_P2HhDfhHATliBUZE1r","paperboy.socket.identity.reconnect_failed":"31yVINstEhRWuj64eCc_oSA0ZkZWeg~~","paperboy.zappy.response_time":"Wj4RvZihF2ehybRl0RiDSiBCZW5I","paperboy.zappy.write_attempts":"65kFCMhAaXfHxxKDAvk22SBGWG1Q","paperboy.zappy.error":"Fug2L010B2fvojkSrMyRqiAxd2Vv","paperboy.guestpa.init":"82OQhy3Krjf2KyPWWCUTxCBEazJk","paperboy.guestpa.connected":"MGQ5Hro-wBqP8HMSxyCVgSBRNjNF","paperboy.guestpa.socketError":"FUomtkfhpe0rYZB6cvZKyiBYVWdJ","paperboy.guestpa.socketMessageRetry":"1whmoAu4FzqrWydIQJLwiSBJMFlJ"},zappyBatchInterval:5}},function(e,t,n){"use strict";n.r(t),t.default={env:"test",debug:!0,identityServiceUrl:"http://localhost:3400",conversionsUrl:"http://localhost:3490",socketUrl:"https://stg-api.triptease.io/",socketPath:"/identity-service/socket.io",configApiUrl:"//stg-api.triptease.io/config-service",widgetLoaderUrl:"//stg-widget.triptease.net/loader.js",widgetHost:"",priceApiUrl:"//stg-api.triptease.io/price-check",zappyUrl:"//stg-api.triptease.io/zappy",chatSocketUrl:"https://stg-frontdesk-api.triptease.io",chatSocketPath:"/guestpa/socket",barcodeScriptUrl:"//static.triptease.io/alchemy-experiments/barcode.js",onboardMessagesUrl:"http://localhost:8104",zappyBatchInterval:5}},function(e,t,n){var r=n(36);e.exports=function(e){if(r(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){var r=n(232),i=n(236);e.exports=function(e){if(i(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r(e)}},function(e,t,n){e.exports=n(233)},function(e,t,n){n(46),n(234),e.exports=n(6).Array.from},function(e,t,n){"use strict";var r=n(31),i=n(9),o=n(44),a=n(110),s=n(111),c=n(62),u=n(235),f=n(87);i(i.S+i.F*!n(118)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,p,l=o(e),h="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g,v=0,m=f(l);if(y&&(g=r(g,d>2?arguments[2]:void 0,2)),null==m||h==Array&&s(m))for(n=new h(t=c(l.length));t>v;v++)u(n,v,y?g(l[v],v):l[v]);else for(p=m.call(l),n=new h;!(i=p.next()).done;v++)u(n,v,y?a(p,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(23),i=n(52);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){e.exports=n(237)},function(e,t,n){n(56),n(46),e.exports=n(238)},function(e,t,n){var r=n(65),i=n(16)("iterator"),o=n(45);e.exports=n(6).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(93))},function(e,t,n){e.exports=n(242)},function(e,t,n){n(243),e.exports=n(6).Reflect.get},function(e,t,n){var r=n(60),i=n(86),o=n(34),a=n(9),s=n(17),c=n(21);a(a.S,"Reflect",{get:function e(t,n){var a,u,f=arguments.length<3?t:arguments[2];return c(t)===f?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(f):void 0:s(u=i(t))?e(u,n,f):void 0}})},function(e,t,n){var r=n(7);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){n(246),e.exports=n(6).parseInt},function(e,t,n){var r=n(9),i=n(247);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(11).parseInt,i=n(248).trim,o=n(123),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(9),i=n(59),o=n(30),a=n(123),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),c=i[e]=s?t(p):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},p=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},function(e,t,n){var r=n(94),i=n(250),o=n(252),a="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){var u,f,p,l,h,d,g=0,y=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError(a);function _(t){var n=u,r=f;return u=f=void 0,g=t,l=e.apply(r,n)}function b(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-g>=p}function w(){var e=i();if(b(e))return C(e);h=setTimeout(w,function(e){var n=t-(e-d);return v?c(n,p-(e-g)):n}(e))}function C(e){return h=void 0,m&&u?_(e):(u=f=void 0,l)}function k(){var e=i(),n=b(e);if(u=arguments,f=this,d=e,n){if(void 0===h)return function(e){return g=e,h=setTimeout(w,t),y?_(e):l}(d);if(v)return h=setTimeout(w,t),_(d)}return void 0===h&&(h=setTimeout(w,t)),l}return t=o(t)||0,r(n)&&(y=!!n.leading,p=(v="maxWait"in n)?s(o(n.maxWait)||0,t):p,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==h&&clearTimeout(h),g=0,u=d=f=h=void 0},k.flush=function(){return void 0===h?l:C(i())},k}},function(e,t,n){var r=n(124);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(93))},function(e,t,n){var r=n(94),i=n(253),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?f(e.slice(2),n?2:8):s.test(e)?o:+e}},function(e,t,n){var r=n(254),i=n(257),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},function(e,t,n){var r=n(125),i=n(255),o=n(256),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(125),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(126),i=n(66)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=!1),e}(t=e.exports=n(261)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(63))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){var r=n(127),i=n(128),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=function e(t,n){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s],n);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var c in t)a[c]=e(t[c],n);return a}return t}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(c,u,f){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var p=new FileReader;p.onload=function(){f?f[u]=this.result:o=this.result,--n||t(o)},p.readAsArrayBuffer(c)}else if(r(c))for(var l=0;l<c.length;l++)e(c[l],l,c);else if("object"==typeof c&&!i(c))for(var h in c)e(c[h],h,c)}(o),n||t(o)}},function(e,t,n){e.exports=n(264),e.exports.parser=n(47)},function(e,t,n){var r=n(130),i=n(42),o=n(69)("engine.io-client:socket"),a=n(134),s=n(47),c=n(126),u=n(67);function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=f,f.priorWebsocketSuccess=!1,i(f.prototype),f.protocol=s.protocol,f.Socket=f,f.Transport=n(97),f.transports=n(130),f.parser=n(47),f.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},f.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;f.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),l(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}}))}function a(){n||(n=!0,l(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function u(){s("socket closed")}function p(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function l(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",p)}f.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",c),this.once("close",u),this.once("upgrading",p),t.open()},f.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},f.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},f.prototype.onError=function(e){o("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){var r=n(96),i=n(131),o=n(42),a=n(68),s=n(69)("engine.io-client:polling-xhr");function c(){}function u(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function f(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=f,a(u,i),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new f(e)},u.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},u.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(f.prototype),f.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},f.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},f.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},f.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",l);else if("function"==typeof addEventListener){var p="onpagehide"in self?"pagehide":"unload";addEventListener(p,l,!1)}function l(){for(var e in f.requests)f.requests.hasOwnProperty(e)&&f.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=r):0!==o.count||i||t(null,n)}}},function(e,t){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,i,o=String.fromCharCode;function a(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return o(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=o(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+=o(63&e|128)}function f(){if(i>=r)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,o;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(t=255&n[i],i++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|f())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|f()<<6|f())>=2048)return s(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|f()<<12|f()<<6|f())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=a(e),i=r.length,o=-1,s="";++o<i;)s+=u(r[o],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=a(e),r=n.length,i=0;for(var c,u=[];!1!==(c=p(s));)u.push(c);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(u)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var f=new ArrayBuffer(s),p=new Uint8Array(f);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],p[u++]=r<<2|i>>4,p[u++]=(15&i)<<4|o>>2,p[u++]=(3&o)<<6|63&a;return f}}()},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function s(e,t){t=t||{};var r=new n;return a(e).forEach(function(e){r.append(e)}),t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return new Blob(a(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=r?i?Blob:c:o?s:void 0},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(t){var r=n(131),i=n(68);e.exports=f;var o,a=/\n/g,s=/\\n/g;function c(){}function u(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function f(e){if(r.call(this,e),this.query=this.query||{},!o){var t=u();o=t.___eio=t.___eio||[]}this.index=o.length;var n=this;o.push(function(e){n.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}i(f,r),f.prototype.supportsBinary=!1,f.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},f.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},f.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function u(){f(),t()}function f(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),f(),e=e.replace(s,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,n(93))},function(e,t,n){var r,i,o=n(97),a=n(47),s=n(67),c=n(68),u=n(133),f=n(69)("engine.io-client:websocket");if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{i=n(277)}catch(e){}var p=r||i;function l(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=i),o.call(this,e)}e.exports=l,c(l,o),l.prototype.name="websocket",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},l.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},l.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){a.encodePacket(e,t.supportsBinary,function(r){if(!t.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(e){f("websocket closed before onclose event")}--n||o()})}(e[r]);function o(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}},l.prototype.onClose=function(){o.prototype.onClose.call(this)},l.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},l.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===l.prototype.name)}},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";n.r(t);var r=n(25),i=n.n(r),o=function(){function e(e){return function(){try{window.console[e].apply(console,arguments)}catch(e){}}}return{info:e("info"),warn:e("warn"),error:e("error")}}(),a=function(e,t){function n(e){try{t.call(window.PFConfig,e)}catch(e){}}if(null==e)n(document.querySelectorAll(".price-fighter-widget")[0]);else if("string"==typeof e)for(var r=document.querySelectorAll(e),a=0;a<r.length;a++)n(r[a]);else if("object"===i()(e))if(void 0===e.length)n(e);else for(var s=0;s<e.length;s++)n(e[s]);else o.info("Cannot find widget container for: ",e)};function s(e,t){return function(n){o.warn("PFConfig is deprecated (called PFConfig.".concat(e,")."));var r=arguments;a(n,function(n){if(window.Paperboy){var i=window.Paperboy;i.ready(function(){i.PriceCheck?t(i.PriceCheck,n):window.PFConfig&&window.PFConfig!==c?window.PFConfig[e].apply(window.PFConfig,r):i.on("loader-ready",function(){o.info("Price check loader ready."),window.PFConfig[e].apply(window.PFConfig,r)})})}})}}var c={_handlers:{complete:[],bookNowClicked:[],debug:[]},open:s("open",function(e,t){e.open(t)}),close:s("close",function(e,t){e.close(t)}),activate:s("activate",function(e,t){e.activate(t)}),deactivate:s("deactivate",function(e,t){e.destroy(t)}),on:function(e,t){if(o.warn("PFConfig is deprecated."),"complete"!==e&&"bookNowClicked"!==e&&"debug"!==e)throw new Error("unsupported event type "+e);this._handlers[e].push(t)},trigger:function(e){o.info("trigger",e)}};window.PFConfig=c,t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(38),i=n.n(r),o=n(19),a=n.n(o),s=n(4),c=n.n(s),u=n(14),f=n.n(u),p=n(8),l=n.n(p),h=n(1),d=n.n(h),g=n(10),y=n.n(g),v=n(7),m=n.n(v),_=n(12),b=n.n(_),w=n(15),C=n.n(w),k=n(2),x=n.n(k),E=n(13);function O(e){return e.replace(/[\u007f-\uffff]/g,"").trim()}function P(e){return e.replace(/[\u007f-\uffff]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}function A(e,t){return O(e)===O(t)}var S,T,M=n(142),j=n(0),I=new(function(){function e(){d()(this,e)}return x()(e,[{key:"now",value:function(){return new Date}}]),e}());function F(){var e=Object(j.a)().document.cookie;e!==T&&(S=Object(M.parse)(e),T=e)}var R={all:function(){return F(),S},get:function(e){return F(),S[e]},set:function(e,t,n,r,i){Object(j.a)().document.cookie="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))+(n?"; max-age=".concat(n,"; expires=").concat(new Date(I.now().getTime()+1e3*n).toUTCString()):"")+(r?"; path=".concat(r):"")+(i?"; domain=".concat(i):"")}},D=n(3),B=D.a.namespace("identity"),L=15768e4;var U={getLocalSession:function(){var e=R.get("triptease-identity-data");return e?JSON.parse(atob(e)):null},setLocalSession:function(e){return B.info("Setting local session to:",e),R.set("triptease-identity-data",btoa(C()(e)),25200,"/",e.cookieDomain),e},getDomainUserId:function(){return R.get("tt-domain-user-id")},setDomainUserId:function(e){R.set("tt-domain-user-id",e,L)}},N=function(){function e(t,n){d()(this,e),this._baseUrl=t,this._http=n}return x()(e,[{key:"getIdentity",value:function(){return this._makeIdentityRequest()}},{key:"createExperiment",value:function(e,t){return this._makeIdentityRequest({"X-Triptease-Experiment":P(C()(t)),"X-Triptease-Identity":P(C()(e))}).then(U.setLocalSession)}},{key:"_makeIdentityRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._http({method:"get",url:"".concat(this._baseUrl,"/identity"),queryParams:{},headers:e,flags:["withCredentials"]}).then(E.c)}}]),e}(),W=n(20),q=n.n(W),H=n(39),K=n.n(H);function z(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}function V(e){var t=e.method,n=void 0===t?"POST":t,r=e.url,i=e.body,o=C()(i);if(void 0!==navigator.sendBeacon&&"POST"===n)navigator.sendBeacon(r,o);else if("undefined"!=typeof fetch)fetch(r,{method:n,body:o});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(n,r,!0),a.send(o)}}function X(e){var t=e.url,n=e.body,r=e.method,i=void 0===r?"POST":r,o=C()(n);return void 0!==navigator.sendBeacon&&"POST"===i?new a.a(function(e,n){navigator.sendBeacon(t,o)?e():n()}):"undefined"!=typeof fetch?fetch(t,{method:i,body:o}):XMLHttpRequest?new a.a(function(e,n){var r=new XMLHttpRequest;r.open(i,t,!0),r.onload=e,r.onerror=n,r.send(o)}):void 0}var J={name:"paperboy",version:"1803.624"},Q=function(){function e(){d()(this,e)}return x()(e,[{key:"now",value:function(){return new Date}}]),e}(),G={Error:"triptease.paperboy.zappy.error",ResponseTime:"triptease.paperboy.zappy.response_time",WriteAttempts:"triptease.paperboy.zappy.write_attempts"},Z="triptease.paperboy.guestpa.init",Y="triptease.paperboy.guestpa.socketMessageRetry",$="triptease.paperboy.guestpa.connected",ee="triptease.paperboy.guestpa.socketError",te={LoadError:"triptease.paperboy.identity.load.error",LoadForbidden:"triptease.paperboy.identity.load.forbidden",LoadFailed:"triptease.paperboy.identity.load.failed",LoadAttempt:"triptease.paperboy.identity.load.attempt",LoadSuccess:"triptease.paperboy.identity.load.success",LoadLocalSession:"triptease.paperboy.identity.load.local_session",NoSessionFromBootstrap:"triptease.paperboy.identity.no_session_from_bootstrap"},ne=new(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Q;d()(this,e),setInterval(this.flush.bind(this),1e3),this.browserWindow=n,this.clock=r,this.baseUrl=q.a.onboardMessagesUrl,this.browserWindow.addEventListener("unload",function(){return t.flush()}),this.queued=[];try{this.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){this.timezone=""}}return x()(e,[{key:"send",value:function(e){this.queued.push(l()({},e,{messageId:z(),createdAt:this.clock.now()}))}},{key:"flush",value:function(){if(0!==this.queued.length){var e=K()(this.queued);this.queued=[];var t=this.browserWindow.navigator,n=this.browserWindow.document,r=this.clock.now(),i={type:"triptease.onboard.batch",messageId:z(),createdAt:r,sentAt:r,context:{library:J,userAgent:t.userAgent,locale:t.language,page:{title:n.title,locale:n.documentElement.lang,url:this.browserWindow.location.href,referrer:n.referrer},screen:{width:this.browserWindow.screen.width,height:this.browserWindow.screen.height},timezone:this.timezone},payload:e};V({url:"".concat(this.baseUrl,"/message/batch"),body:i})}}}]),e}()),re={app:J};var ie={trackCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ne.send({type:e,payload:{count:t},context:re})},trackValue:function(e,t){ne.send({type:e,payload:{gauge:t},context:re})}},oe=n(37),ae=n(18),se=n.n(ae),ce=D.a.namespace("identity"),ue=new N(q.a.identityServiceUrl,E.b),fe=3,pe=500,le=fe,he=function(e){function t(e,n){var r;if(d()(this,t),r=y()(this,m()(t).call(this,e,n)),n&&n.meta){var i=l()({},n.meta);delete i.originalErrors,r.meta=l()({},r.meta,i);var o=n.meta.originalErrors;o&&o.length&&o.forEach(function(e){return r.addOriginalError(e)})}return r}return b()(t,e),t}(oe.a);function de(){return ue.getIdentity().catch(function(e){return ce.error("Error getting identity",e),ie.trackCount(te.LoadError),403===e.status?(ie.trackCount(te.LoadForbidden),void ce.error("Identity returned 403 forbidden.")):function(e){return new a.a(function(t,n){--le>0?setTimeout(function(){de().then(t).catch(n)},pe):(ie.trackCount(te.LoadFailed),n(new he("Failed ".concat(fe," times to retrieve remote session. Giving up."),e)))})}(e)})}function ge(){var e=Object(j.a)().localStorage;return e&&e.getItem("tt-domain-user-id")||U.getDomainUserId()||function(){var e=se.a.v4(),t=Object(j.a)().localStorage;try{t&&t.setItem("tt-domain-user-id",e)}catch(e){}return U.setDomainUserId(e),e}()}function ye(e){return ie.trackCount(te.LoadAttempt),e||(ie.trackCount(te.NoSessionFromBootstrap),de().then(function(e){var t=U.getLocalSession();if(ce.info("Local session: ",t),ce.info("Remote session: ",e),e)return ie.trackCount(te.LoadSuccess),e.isFreshSession&&t?(ie.trackCount(te.LoadLocalSession),ce.info("Remote session is fresh, using local session."),t):(ce.info("Using remote session."),U.setLocalSession(e),e)}).then(function(e){return e?l()({},e,{domainUserId:ge()}):void 0}))}var ve=function(e){function t(){return d()(this,t),y()(this,m()(t).apply(this,arguments))}return b()(t,e),t}(oe.a),me=new(function(){function e(t,n){d()(this,e),this._baseUrl=t,this._http=n}return x()(e,[{key:"getConfig",value:function(e,t,n){var r={merged:"true",languages:t.join(","),forceRefresh:n},i="".concat(this._baseUrl,"/config/").concat(e);return this._http({method:"get",url:i,queryParams:r}).then(function(e){return Object(E.c)(e)}).catch(function(t){if(t instanceof E.a&&400===t.getResponseStatusCode())throw new ve('Failed to get config key "'.concat(e,'"'));throw t})}}]),e}())(q.a.configApiUrl,E.b);var _e=n(24),be=function(){function e(t,n,r){d()(this,e),this._config=t,this._applications={},this._trackEvent=n,this._logger=r,this.publicApi=Object(_e.b)()}return x()(e,[{key:"getConfig",value:function(){return c()({},this._config)}},{key:"addApplication",value:function(e,t){if(!function(e,t){return t.every(function(t){return"function"==typeof e[t]})}(t,["setup","destroy","onTrackedEvent"]))throw new Error("Trying to add an object that does not look like an application");this._applications[e]=t}},{key:"setupApplications",value:function(){var e=this,t=this._applications;f()(t).forEach(function(n){try{t[n].onTrackedEvent(function(t,r){e._trackEvent(t,n,r)}),e._logger.info("Setting up application: ".concat(n)),t[n].setup(),e.publicApi.add(t[n])}catch(t){e._logger.warn("Failure setting up application: ".concat(n),t)}}),this.publicApi.ready()}},{key:"destroy",value:function(){var e=this,t=this._applications;f()(t).forEach(function(n){try{e._logger.info("Destroying application: ".concat(n)),t[n].destroy()}catch(t){e._logger.warn("Failure Destroying application: ".concat(n),t)}}),this._applications={},this.publicApi=null}}]),e}(),we=n(29),Ce=n.n(we),ke=n(32),xe=n.n(ke),Ee=function(){function e(t,n,r){d()(this,e),this._hostWindow=t,this._applicationName=n,this._logger=r.namespace("message-bus"),this._hostWindow=t,this._messageHandler=null,this._targetWindow=null,this._targetOrigin=null,this._isInitialized=!1,this._outboundMessageQueue=[]}return x()(e,[{key:"init",value:function(e,t){if(this._isInitialized)throw new Error("Cannot init twice");this._targetWindow=e,this._targetOrigin=t,this.onMessage=this.onMessage.bind(this),this._hostWindow.addEventListener("message",this.onMessage),this._isInitialized=!0,this._flushOuboundMessageQueue()}},{key:"onMessage",value:function(e){var t,n=e.data,r=void 0===n?"{}":n;try{t=JSON.parse(r)}catch(e){return}if(t&&t.ttSender&&t.ttRecipient&&t.ttSender===this._applicationName&&"paperboy"===t.ttRecipient&&(this._logger.info("Message sent from '".concat(this._applicationName,"' to '").concat("paperboy","'"),t),this._messageHandler))return this._messageHandler(t)}},{key:"setMessageHandler",value:function(e){this._messageHandler=e}},{key:"sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={ttSender:"paperboy",ttRecipient:this._applicationName,type:e,data:t};this._isInitialized?this._sendMessage(n):this._outboundMessageQueue.push(n)}},{key:"_sendMessage",value:function(e){if(!this._isInitialized)throw new Error("Cannot send message before init. Use sendMessage instead, which uses a queue");this._logger.info("Message sent from '".concat(e.ttSender,"' to '").concat(e.ttRecipient,"'"),e),this._targetWindow&&this._targetWindow.postMessage(C()(e),this._targetOrigin)}},{key:"_flushOuboundMessageQueue",value:function(){this._outboundMessageQueue.forEach(this._sendMessage.bind(this)),this._outboundMessageQueue=[]}},{key:"destroy",value:function(){this._hostWindow.removeEventListener("message",this.onMessage),this._isInitialized=!1}}]),e}(),Oe=n(26),Pe=function(){function e(t,n){d()(this,e),this._applicationConfig=t,this._onTrackedEventHandler=function(){},this._logger=n,this._logger.dev=n.namespace("dev"),this._messageHandlers={},this.newInstanceId()}return x()(e,[{key:"newInstanceId",value:function(){this.appInstanceId=se.a.v4()}},{key:"onTrackedEvent",value:function(e){this._onTrackedEventHandler=e}},{key:"getConfig",value:function(){return this._applicationConfig}},{key:"track",value:function(e,t){var n=l()({},t,{experiment:this.getConfig().experiment,appInstanceId:this.appInstanceId,pageLoadOffset:Object(Oe.c)()}),r=this._onTrackedEventHandler;"function"==typeof r&&r(e,n)}},{key:"getLogger",value:function(){return this._logger}},{key:"messageHandlerChain",value:function(e){var t=e.type,n=e.data;if("track"!==t){var r=this._messageHandlers;r.hasOwnProperty(t)?r[t].call(this,n):this.getLogger().notice("No handler set up for message of type '".concat(t,"' in app '").concat(this.name,"'"))}else this.track(n.name,n.data)}},{key:"addMessageHandler",value:function(e,t){this._messageHandlers[e]=t}}]),e}(),Ae=n(143),Se=n(58),Te=n.n(Se),Me="today",je=function(e){function t(){return d()(this,t),y()(this,m()(t).apply(this,arguments))}return b()(t,e),t}(oe.a);var Ie=n(28),Fe=n(40);function Re(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function De(e){try{return"function"==typeof document.contains?document.contains(e):document.head.contains(e)||document.body.contains(e)}catch(e){return!1}}var Be=n(71),Le=n(5),Ue={},Ne=function(e){function t(e,n,r){var i;return d()(this,t),(i=y()(this,m()(t).call(this,e,n))).logger=n,i._messenger=r,i.addMessageHandler("style",i.handleStyle),i.addMessageHandler("resetIframe",i.handleReset),i.addMessageHandler("execute",i.handleExecute),i.addMessageHandler("clientEvent",i.handleClientEvent),i.addMessageHandler("paperboy-internal-message",i.sendInternalMessage),i.handleUpdate=i.handleUpdate.bind(Ce()(i)),Object(_e.a)().on("update",i.handleUpdate),i}return b()(t,e),x()(t,[{key:"publicName",get:function(){return"PriceCheck"}},{key:"appName",get:function(){return Fe.a}}]),x()(t,[{key:"getContainerNodes",value:function(){return Array.prototype.slice.call(document.querySelectorAll(".price-fighter-widget")).filter(function(e){try{return function(e){var t=e.getAttribute("data-pf-direct-price");if(e.getAttribute("data-pf-direct-price-type")!==Me&&!isFinite(Te()(t,10))){var n='Price check container must have valid direct price. Found "'.concat(t,'".');throw new je(n)}}(e),!0}catch(e){if(e instanceof je)return D.a.warn("Widget validation error. Not starting price check.",e),!1;throw e}})}},{key:"setup",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(j.a)();"loading"===t.document.readyState?t.addEventListener("DOMContentLoaded",e):e()}(this.deferredSetup.bind(this))}},{key:"deferredSetup",value:function(){var e=this.getContainerNodes();this.sendInternalMessage({priceCheckStatus:e.length>0?"priceCheckEnabled":"priceCheckDisabled"}),e.forEach(this.addWidget.bind(this))}},{key:"addWidget",value:function(e){if(e&&!this.getWidgetByEl(e)){if(this.isCorrectAppType(e)){var t=this.getConfig(),n=this.widgetHandlerFactory({el:e,config:t,messageBusFactory:this.setupMessageBus.bind(this),logger:this.logger,isTodayPriceWidget:Boolean(this.isTodayPriceWidget),appInstanceId:this.appInstanceId,messenger:this._messenger});return Ue[n.id]=n,n}this.logger.info("".concat(this.publicName," Widget: ignoring element ").concat(this.isTodayPriceWidget?"without":"with",' data-pf-direct-price-type="today".'))}}},{key:"widgetHandlerFactory",value:function(e){return new Ae.a(e)}},{key:"isCorrectAppType",value:function(e){return"today"===e.getAttribute("data-pf-direct-price-type")===Boolean(this.isTodayPriceWidget)}},{key:"setupMessageBus",value:function(e){var t=e.widgetId,n=e.iframe,r=e.targetDomain,i=new Ee(window,"".concat(this.appName,"[").concat(t,"]"),this.logger);return i.init(n.contentWindow,r),i.setMessageHandler(this.messageHandlerChain.bind(this,t)),i}},{key:"getWidgetByEl",value:function(e){return Object(Le.b)(Object(Le.j)(Ue),function(t){return t.widget===e})}},{key:"getWidgetHandler",value:function(e){var t=f()(Ue);return e&&e in Ue?Ue[e]:t.length?Ue[t[0]]:void 0}},{key:"messageHandlerChain",value:function(e,n){var r=n.type,i=n.data,o=this._messageHandlers;if(!(r in o&&Ue[e]))return xe()(m()(t.prototype),"messageHandlerChain",this).call(this,n);o[r].call(this,i,Ue[e])}},{key:"handleStyle",value:function(e,t){t.handleStyleUpdate(e)}},{key:"handleReset",value:function(e,t){t.resetIframeStyle()}},{key:"handleExecute",value:function(e,t){t.execute(e)}},{key:"handleClientEvent",value:function(e,t){var n=t.id;Object(_e.a)().trigger("".concat("priceCheck",":").concat(e.eventName),c()({},e,{id:n}))}},{key:"sendInternalMessage",value:function(e){Object(Ie.a)().emit(this.appName,"paperboy-internal-message",e)}},{key:"removeWidget",value:function(e){var t=this.getWidgetByEl(e);this.removeWidgetHandler(t)}},{key:"removeWidgetHandler",value:function(e){e&&(e.remove(),delete Ue[e.id])}},{key:"isEqualWidgetConfig",value:function(e,t){return Object(Le.f)(Object(Be.a)(e),t.divConfig)}},{key:"handleUpdate",value:function(){var e=this;for(var t in Ue){var n=Ue[t];De(n.widget)||this.removeWidget(n.widget)}this.getContainerNodes().forEach(function(t){var n=e.getWidgetByEl(t);n?e.isEqualWidgetConfig(t,n)||n.reset({el:t}):e.addWidget(t)})}},{key:"getPublicApi",value:function(){var e=this,t=function t(n){return function(r){var i;if(Object(Le.e)(r))[].slice.call(r).forEach(function(e){t(n)(e)});else{if(r)i=e.getWidgetByEl(r);else{if(!(i=e.getWidgetHandler()))return void e.getContainerNodes().forEach(function(e){t(n)(e)});if(!De(r=i.widget))return e.removeWidget(i.widget),t(n)()}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];n.apply(void 0,[{el:r,widgetHandler:i}].concat(a))}}},n=function(e){return function(n,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return t(e).apply(void 0,[r,n].concat(o))}};return{publicName:this.publicName,api:{reset:t(function(t){var n=t.el,r=t.widgetHandler;e.newInstanceId(),r?r.reset({el:n}):e.addWidget(n)}),activate:t(function(t){var n=t.el,r=t.widgetHandler;r?r.activate():(r=e.addWidget(n)).activate()}),deactivate:t(function(e){var t=e.widgetHandler;t&&t.sendCommand("deactivate")}),open:t(function(e){var t=e.widgetHandler;t&&t.sendCommand("open")}),close:t(function(e){var t=e.widgetHandler;t&&t.sendCommand("close")}),destroy:t(function(t){var n=t.el;t.widgetHandler&&e.removeWidget(n)}),skeletonAddClass:n(function(e,t){var n=e.widgetHandler;n&&n.sendCommand("addClass",t)}),skeletonRemoveClass:n(function(e,t){var n=e.widgetHandler;n&&n.sendCommand("removeClass",t)})}}}},{key:"track",value:function(e,n){if("Widget Complete"===e)try{R.set("pf-ticket-id",n.ticketId),R.set("pf-api-key",n.query.token)}catch(e){this.logger.error("Something went wrong setting the pf-ticket-id cookie: "+e)}xe()(m()(t.prototype),"track",this).call(this,e,n)}},{key:"destroy",value:function(){for(var e in Ue)this.removeWidgetHandler(Ue[e]);document.removeEventListener("DOMContentLoaded",this._delayedSetupFn),Object(_e.a)().off("update",this.handleUpdate)}}]),t}(Pe),We=function(e){function t(e,n){var r;return d()(this,t),(r=y()(this,m()(t).call(this,e,n))).isTodayPriceWidget=!0,r}return b()(t,e),x()(t,[{key:"publicName",get:function(){return"BestPrice"}}]),t}(Ne),qe=n(145),He=n.n(qe),Ke=n(146),ze=n.n(Ke),Ve=Math.random().toString(16).substring(2,14);function Xe(e){D.a.info("MSG [".concat(Ve,"]: ").concat(e))}var Je="paperboy";function Qe(e,t){return C()(c()({ttSender:Je,ttRecipient:Je,type:e},t))}var Ge="paperboyMessageListener";function Ze(){var e=Object(j.a)();if(!e.hasOwnProperty(Ge)){var t=function(t){try{t=l()({},t,{data:JSON.parse(t.data),source:t.source,origin:t.origin})}catch(e){return}if(function(e){return!!e&&e.ttRecipient===Je&&e.ttSender===Je}(t.data)){var n=t.data&&t.data.type;if("string"==typeof n){var r=e[Ge].handlers;r.hasOwnProperty(n)&&(Xe("'".concat(n,"' received from '").concat(t.origin,"'")),r[n](t))}}};e.addEventListener("message",t,!1),e[Ge]={listener:t,handlers:{}}}}function Ye(e,t){Xe("Adding handler for message type '".concat(e,"'")),Ze(),Object(j.a)()[Ge].handlers[e]=t}function $e(e){Xe("Removing handler for message type '".concat(e,"'"));var t=Object(j.a)();t.hasOwnProperty(Ge)&&delete t[Ge].handlers[e]}var et="init",tt="ack",nt=5,rt=100;function it(){return new a.a(function(e){var t,n,r,i=Object(j.a)();t=e,n=!1,r=function(){if(!n)return n=!0,t.apply(void 0,arguments)},Object.defineProperty(r,"called",{get:function(){return n}}),e=r,Ze(),i===i.top?(Xe("We are the top window!"),Ye(et,st(e)),e(new ot)):(Xe("We are not the top window. Detecting application mode..."),Ye(et,st(e)),Ye(tt,function(e){return function(t){$e(tt),$e(et),e(new at(t.source,t.origin))}}(e)),function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt;Xe("Attempting handshake (".concat(r," attempts remaining)"));var i=t;do{i=i.parent,Xe("Sending '".concat(et,"'")),i.postMessage(Qe(et),"*")}while(i!==t.top);t.setTimeout(function(){n.called||(--r>=0?e(t,n,r-1):(Xe("Handshake failed. Assume we are the only running Paperboy instance."),$e(tt),n(new ot)))},rt)}(i,e))})}var ot=function(){function e(){d()(this,e),Xe("Running in PRIMARY mode")}return x()(e,[{key:"isPrimary",value:function(){return!0}},{key:"sendToPrimary",value:function(){throw new Error("We are the primary instance!")}}]),e}(),at=function(){function e(t,n){d()(this,e),Xe("Running in SECONDARY mode"),this.primaryInstance=t,this.primaryOrigin=n}return x()(e,[{key:"isPrimary",value:function(){return!1}},{key:"sendToPrimary",value:function(e,t){var n=Qe(e,t);Xe("Forwarding message to primary: ".concat(n)),this.primaryInstance.postMessage(n,this.primaryOrigin)}}]),e}();function st(e){return function(t){Xe("Responding with '".concat(tt,"'")),t.source.postMessage(Qe(tt),t.origin),e.called||(Xe("Message received from a secondary instance. Assuming that we are PRIMARY."),$e(tt),e(new ot))}}var ct={spaceInvaders:Ne,wonderSwan:We,guestPa:function(e){function t(e,n,r){var i,o;return d()(this,t),e=c()({},e,{widget:c()({},e.widget,{layout:"guestpa"})}),(i=y()(this,m()(t).call(this,e,n)))._messenger=r,i.handleWidgetHandlerReset=i.handleWidgetHandlerReset.bind(Ce()(i)),i.sendPriceCheckToOuterIframe=i.sendPriceCheckToOuterIframe.bind(Ce()(i)),i.handleInnerIframePriceCheck=i.handleInnerIframePriceCheck.bind(Ce()(i)),i.addMessageHandler("chatMessage",i.onClientMessage),i.addMessageHandler("messagesRead",i.onClientMessagesRead),i.addMessageHandler("userTyping",i.emit.bind(Ce()(i),"typing")),i.addMessageHandler("meta",i.emit.bind(Ce()(i),"meta")),i.addMessageHandler("getMessages",i.onGetMessages),i.addMessageHandler("agentMessagesDelivered",i.onAgentMessagesDelivered),i.onWindowResizeListener=He()(i.onParentWindowResize.bind(Ce()(i)),500),o=i.onWindowResizeListener,Object(j.a)().addEventListener("resize",o),i.addApiSearchListener(),i}return b()(t,e),x()(t,[{key:"publicName",get:function(){return"GuestPA"}},{key:"userId",get:function(){return this.getConfig().userId}},{key:"apiKey",get:function(){return this.getConfig().apiKey}},{key:"client",get:function(){return this.getConfig().client}},{key:"sessionId",get:function(){return this.getConfig().sessionId}},{key:"language",get:function(){var e=this.getConfig().languages,t=e.document,n=e.browser,r=t||n;return r?r.toLowerCase():void 0}},{key:"chatSocketUrl",get:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(j.a)().navigator,t=e&&e.userAgent;return t&&/iP(hone|od|ad)/.test(t)&&t.match(/Version\/[\d\\.]+.*Safari/)}()?this.getConfig().chatSocketUrlAlternate:this.getConfig().chatSocketUrl}}]),x()(t,[{key:"addApiSearchListener",value:function(){this._messenger.isPrimary()?Ye("guestpa:innerIframePriceCheck",this.handleInnerIframePriceCheck):Object(Ie.a)().addListener(Fe.a,"apiSearch",this.sendPriceCheckToOuterIframe)}},{key:"sendPriceCheckToOuterIframe",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).body;e&&this._messenger.sendToPrimary("guestpa:innerIframePriceCheck",e)}},{key:"handleInnerIframePriceCheck",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(e){var t=this.getWidgetHandler();t&&t.postMessage("data",e)}}},{key:"onParentWindowResize",value:function(){var e=this.getWidgetHandler();e&&e.sendCommand("parentWindowDimensions",{parentWindow:{innerHeight:window.innerHeight,innerWidth:window.innerWidth}})}},{key:"setup",value:function(){this.addWidget()}},{key:"addWidget",value:function(e){!this.getWidgetHandler()&&document.body&&(this.divContainer=document.createElement("div"),document.body.appendChild(this.divContainer),this.initialiseSocket(),e=e||this.getContainerNodes()[0]||this.divContainer,this.widgetHandler=xe()(m()(t.prototype),"addWidget",this).call(this,e),this.widgetHandler.on("reset",this.handleWidgetHandlerReset))}},{key:"getWidgetByEl",value:function(){return this.widgetHandler}},{key:"getWidgetHandler",value:function(){return this.widgetHandler}},{key:"handleWidgetHandlerReset",value:function(){this.socket.connected&&this.socket.close(),this.initialiseSocket()}},{key:"removeWidgetHandler",value:function(){xe()(m()(t.prototype),"removeWidgetHandler",this).call(this,this.widgetHandler),this.widgetHandler=null,this.socket&&this.socket.close()}},{key:"widgetHandlerFactory",value:function(e){return xe()(m()(t.prototype),"widgetHandlerFactory",this).call(this,c()(e,{preloadData:e.el!==this.divContainer,customContainer:this.divContainer,loadIframe:this._messenger.isPrimary()}))}},{key:"connect",value:function(){return ze()(this.chatSocketUrl,{path:this.getConfig().chatSocketPath,reconnectionAttempts:90,randomizationFactor:1,reconnectionDelayMax:1e4,transports:["websocket","polling"]})}},{key:"initialiseSocket",value:function(){this._isConnected=!1,this._hasReceivedSetup=!1,this.msgQueue=[],this.socket=this.connect(),this.socket.on("connect",this.onSocketConnect.bind(this)),this.socket.on("reconnect",this.onSocketReconnect.bind(this)),this.socket.on("reconnect_attempt",this.onSocketReconnectAttempt.bind(this)),this.socket.on("disconnect",this.onSocketDisconnect.bind(this)),this.socket.on("error",this.onSocketError.bind(this)),this.socket.on("reconnect_failed",this.onSocketConnectFailed.bind(this)),this.socket.on("activeConversation",this.onActiveConversation.bind(this)),this.socket.on("agents",this.onSocketMessage.bind(this,"agents")),this.socket.on("reveal",this.onSocketMessage.bind(this,"reveal")),this.socket.on("message",this.onSocketMessage.bind(this,"chatMessage")),this.socket.on("guestMessage",this.onSocketMessage.bind(this,"chatMessage")),this.socket.on("agentMessage",this.onSocketMessage.bind(this,"chatMessage")),this.socket.on("proactiveMessage",this.onSocketMessage.bind(this,"chatMessage")),this.socket.on("conversationLog",this.handleMessages.bind(this)),this.socket.on("typing",this.onSocketMessage.bind(this,"agentTyping")),this.socket.on("meta",this.onSocketMessage.bind(this,"meta")),this.socket.on("conversationClosed",this.onConversationClosed.bind(this)),this.socket.on("eventFailed",this.onMessageFailed.bind(this)),this.socket.on("setup",this.onSocketSetup.bind(this)),this.socket.on("pciAccessTokens",this.onSocketMessage.bind(this,"pciAccessTokens")),ie.trackCount(Z),this.setupTimer=+new Date,this.socketEventRetryCounts={}}},{key:"shouldKeepTrying",value:function(e){return!this.socketEventRetryCounts[e]||this.socketEventRetryCounts[e]<10}},{key:"resendMessage",value:function(e,t){this.socketEventRetryCounts&&(this.socketEventRetryCounts[e]=(this.socketEventRetryCounts[e]||0)+1,this.emit(e,t))}},{key:"onMessageFailed",value:function(e,t){this.logger.dev.info("Event failed ".concat(e),t),ie.trackCount(Y),this.shouldKeepTrying(e)?this.resendMessage(e,t):this.logger.error("Retry threshold reached for ".concat(e),t)}},{key:"onSocketConnect",value:function(){this.logger.dev.info("Chat socket connected"),this._hasReceivedSetup||this.onInitialConnect()}},{key:"onSocketReconnect",value:function(e){1===e&&(this.connectAttemptCounter=(this.connectAttemptCounter||0)+1,this._hasReceivedSetup||25!==this.connectAttemptCounter||this.trackConnection({unableToEstablishInitialConnection:!0})),this.logger.dev.info("Chat socket reconnected"),this._isConnected=!0;var t=this.lastTimestamp;this.emit("reconnectUser",{timestamp:t}),this.sendQueue(),this._hasReceivedSetup&&e>1&&this.disconnectTimer&&(this.track("guestPaReconnect",{build:"1803.624",reconnectTime:new Date-this.disconnectTimer,attempts:e}),this.disconnectTimer=null)}},{key:"trackConnection",value:function(e){this.track("guestPaConnect",c()({build:"1803.624",connectionTime:new Date-this.setupTimer,initialConnectionAttempts:this.initalConnectionCounter||0,connectionAttempts:this.connectAttemptCounter||0,hasConnected:!!this._hasReceivedSetup},e))}},{key:"onSocketReconnectAttempt",value:function(e){6===e&&this.trackConnection({failedToReconnect:!0})}},{key:"onSocketDisconnect",value:function(){this._isConnected=!1,this.disconnectTimer=+new Date}},{key:"onInitialConnect",value:function(){this.socket.emit("setup",{date:"2020-02-13T10:59:39.795Z",build:"1803.624"})}},{key:"onSocketSetup",value:function(){ie.trackCount($),this._hasReceivedSetup=!0,this.initalConnectionCounter=this.connectAttemptCounter,this.trackConnection(),this._isConnected=!0,this.emit("newUser"),this.sendQueue()}},{key:"onSocketConnectFailed",value:function(){this.trackConnection({connectFailed:!0})}},{key:"sendQueue",value:function(){var e=this;this.msgQueue.forEach(function(t){var n=t.type,r=t.payload;return e.emit(n,r)}),this.msgQueue=[]}},{key:"onSocketError",value:function(e){"TransportError"===e.type&&400===e.description?this.logger.error("GuestPA Polling bounce",e):this.logger.error("GuestPA Socket Error",e),ie.trackCount(ee)}},{key:"onSocketMessage",value:function(e,t){this.logger.dev.info("Socket message ".concat(e),t),t.conversationId&&(this.conversationId=t.conversationId),(t.userId!==this.userId||t.proactive||t.forceUpdate)&&this.sendToWidget(e,t),t.timestamp&&(this.lastTimestamp=t.timestamp)}},{key:"onConversationClosed",value:function(){this.isActive=!1}},{key:"sendToWidget",value:function(e,t){var n=this.getWidgetHandler();n&&n.sendCommand(e,t)}},{key:"onActiveConversation",value:function(e){var t=e.conversationId,n=e.messages,r=void 0===n?[]:n,i=e.agents,o=e.active,a=e.expanded;this.logger.dev.info("Retrieved active conversation ".concat(t," (").concat(r.length," messages)")),this.conversationId=t,this.isActive=Boolean(o),this.sendToWidget("chatHistory",r),this.sendToWidget("agents",i),null!=a&&this.sendToWidget(a?"open":"close")}},{key:"handleMessages",value:function(e){var t=e.conversationId,n=e.messages,r=void 0===n?[]:n;this.isActive=!0,this.conversationId=t,this.sendToWidget("chatPagination",r)}},{key:"onClientMessage",value:function(e){this.logger.dev.info("Chat Message",e),this.isActive||(e.isFirstMessage=!0,this.isActive=!0),this.emit("guestMessage",e)}},{key:"onClientMessagesRead",value:function(e){var t=e.messageIds;this.emit("messagesRead",{messageIds:t})}},{key:"onAgentMessagesDelivered",value:function(e){var t=e.messages;this.emit("agentMessagesDelivered",{messages:t})}},{key:"onGetMessages",value:function(e){var t=e.offset;this.conversationId&&this.emit("getMessages",{offset:t})}},{key:"emit",value:function(e,t){this._isConnected?(this.logger.dev.info("GuestPaSocketEmit",e,t),this.socket.emit(e,c()({},t,{userId:this.userId,client:this.client,apiKey:this.apiKey,sessionId:this.sessionId,conversationId:this.conversationId,language:this.language}))):(this.msgQueue.push({type:e,payload:t}),this.logger.dev.info("Socket not connected. Adding ".concat(e," to the queue (").concat(this.msgQueue.length,")")))}},{key:"getPublicApi",value:function(){var e=this,n=xe()(m()(t.prototype),"getPublicApi",this).call(this);return n.publicName="PriceCheck",n.api.reset=function(t){var n=e.getWidgetHandler();t||(t=e.getContainerNodes()[0]),n&&t?e.isEqualWidgetConfig(t,n)||n.reset({el:t}):e.addWidget(t)},n.api.activate=n.api.reset,n}},{key:"destroy",value:function(){var e;this.socket&&this.socket.close(),e=this.onWindowResizeListener,Object(j.a)().removeEventListener("resize",e),$e("guestpa:innerIframePriceCheck"),Object(Ie.a)().removeListener(Fe.a,"apiSearch",this.sendPriceCheckToOuterIframe),xe()(m()(t.prototype),"destroy",this).call(this)}}]),t}(Ne)};function ut(e,t,n){return new a.a(function(r,i){var o=0;function a(){var t=e(function(e,t){return e?s(e):r(t)});t&&"function"==typeof t.then&&"function"==typeof t.catch&&t.then(r).catch(function(e){return s(e)})}function s(e){if(++o,null===t||o<t){var r="function"==typeof n?n(o):n;setTimeout(a,r)}else i(e)}a()})}ut.backoff=function(e,t){return void 0===t&&(t=2),function(n){return e*Math.pow(t,n)}};var ft=D.a.namespace("zappy"),pt=5,lt=1e3,ht=[],dt=null;function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;ft.info(e,t),ht.push({eventType:e,value:t}),null===dt&&(dt=setTimeout(function(){return function(e){var t=(new Date).getTime(),n=ht;ht=[],dt=null;var r=0;return ut(function(){return++r,e({url:"".concat(q.a.zappyUrl,"/event?").concat((t=n,t.map(function(e,t){var n=t>0?t:"";return["eventType".concat(n,"=").concat(encodeURIComponent(e.eventType)),e.value.eventName?"eventName".concat(n,"=").concat(encodeURIComponent(e.value.eventName)):null,e.value.eventAppName?"eventAppName".concat(n,"=").concat(encodeURIComponent(e.value.eventAppName)):null].filter(function(e){return!!e}).join("&")}).join("&"))),body:n});var t},pt,ut.backoff(lt)).then(function(){var e=(new Date).getTime()-t;ie.trackValue(G.ResponseTime,e),ie.trackValue(G.WriteAttempts,r)}).catch(function(e){ie.trackCount(G.Error,1),ft.error("Zappy request failed: "+e.message)})}(n)},q.a.zappyBatchInterval))}var yt=function(e,t){var n=l()({},t,Object(Le.c)(function(){return t.applications[e]}),{parentOrigin:Re});return delete n.applications,n},vt=function(e){return Object(Le.c)(function(){return e.applications.guestPa.show})},mt=function(e){return Object(Le.c)(function(){return e.applications.spaceInvaders.show})};function _t(e,t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;return function(n,r,i){return gt("AppEvent",l()({},i,{paperboyVersion:"1803.624",createdTime:(new Date).toISOString(),eventAppName:r,eventName:n,eventId:se.a.v4(),userId:e.userId,sessionId:e.sessionId,clientName:e.client,apiKey:e.apiKey,clientKey:e.clientKey,pageVisitId:e.pageVisitId,userAgent:window.navigator.userAgent}),t)}}(e),i=function(){r("Page Metrics","spaceInvaders",{domLoadTimeMs:Object(Oe.b)(),domContentLoadTimeMs:Object(Oe.a)()})};"complete"===Object(j.a)().document.readyState?i():document.addEventListener("load",i);var o=new be(e,r,t);return Object(_e.a)().on("destroy",function(){o.destroy(),document.removeEventListener("load",i)}),vt(e)&&mt(e)&&(e.applications.spaceInvaders.show=!1),t.info("Building application container"),f()(e.applications).forEach(function(r){var i=yt(r,e);if(t.info("Application '".concat(r,"', show: ").concat(i.show),i),i&&i.show&&ct[r]){var a=new(0,ct[r])(i,t,n);o.addApplication(r,a)}}),o.setupApplications(),Object(Ie.a)().flush(),o}var bt=n(36),wt=n.n(bt);var Ct=Math.pow(2,32),kt=768,xt=D.a.namespace("experiment");function Et(e,t){var n,r,i=e.experiment,o=(n="triptease-variation-name",(r=Object(j.a)().location.search.match(new RegExp("[?&]".concat(n,"(=([^&#]*)|&|#|$)"))))?r[2]:null);if(o)return D.a.info("Experiment variation forced to ".concat(o)),Object(Le.b)(i.variations,function(e){return A(e.name,o)});if(wt()(t.experiments)){var a=Object(Le.b)(t.experiments,function(e){return e.id===i._id}),s=a&&a.selectedVariation;if(s)return Object(Le.b)(i.variations,function(e){return A(e.name,s)})}}function Ot(e,t){var n=Object(Le.a)(e.applications).reduce(function(n,r){var o=i()(r,2),a=o[0],s=o[1],c=t.applications[a];return c&&Object(Le.d)(e.experiment.applications,a)?n[a]=l()({},s,{applicationConfig:l()({},s.applicationConfig,c)}):n[a]=s,n},{}),r=t.name,o=t.traffic,a=l()({},e.experiment,{selectedVariation:{name:r,traffic:o}});return delete a.variations,l()({},e,{applications:n,experiment:a})}function Pt(e,t){var n=e.experiment;if(function(){try{return!!Object(j.a)().localStorage.getItem("tt_opt_out_of_experiments")}catch(e){return!1}}())return xt.info("Opting out of experiment"),{config:e};if(!(n&&function(e){var t=e.variations;return!t||t.length<1?(xt.warn('No variations defined for experiment "'.concat(e.name,'"')),!1):1===t.map(function(e){return e.traffic}).reduce(Le.i)||(xt.warn('Variation traffic values for experiment "'.concat(e.name,'" do not add up to 1')),!1)}(n)&&function(e){if(!e.startDate||!e.endDate)return!1;var t=new Date(e.startDate),n=new Date(e.endDate),r=new Date;return r>=t&&r<n}(n)&&function(e){return!e.mobileOnly||Object(j.a)().screen.width<kt}(n)))return xt.info("No valid, active experiment found"),{config:e};xt.info('Experiment "'.concat(n.name,'" is active'));var r,i=Et(e,t);return i?xt.info("Selected variation found in user session"):(xt.info("No selected variation found in user session. Selecting new variation..."),i=function(e,t){var n=Te()(e.experiment._id.substr(0,8),16)^Te()(t.userId.substr(0,8),16),r=0;return Object(Le.b)(e.experiment.variations,function(e){return r+=e.traffic,n<Math.floor(Ct*(r-.5))})}(e,t),r={experimentId:n._id,validUntil:new Date(n.endDate),selectedVariationId:i.name}),xt.info('Experiment variation selected: "'.concat(i.name,'"')),c()({config:Ot(e,i)},r?{variationPicked:r}:{})}function At(){return Object(j.a)().ga?function(){var e=Object(j.a)().ga;if(e&&e.getAll){var t=e.getAll();if(t.length&&t[0]&&t[0].get)return t[0].get("linkerParam")}return null}():Object(j.a)()._gat?function(){try{return Object(j.a)()._gat._getTrackers()[0]._getLinkerUrl("http://madeup.com/").replace("http://madeup.com/?","")}catch(e){return null}}():null}var St=n(25),Tt=n.n(St),Mt=function(e){return!(!e.getAttribute("data-pf-hotelkey")&&!e.getAttribute("data-pf-token"))},jt=function(){return document.querySelectorAll(".price-fighter-widget")[0]};var It="UNKNOWN";function Ft(){var e;return function(){try{localStorage.setItem("testKey","testValue");var e=localStorage.getItem("testKey");return localStorage.removeItem("testKey"),"testValue"===e}catch(e){return!1}}()&&(e=localStorage.getItem("pf-ticket-id")),e||(e=R.get("pf-ticket-id")),e}function Rt(e,t,n){if(e.apiKey&&n.client!==It&&!function(e){var t=function(e,t){try{var n=e();return void 0===n?t:n}catch(e){return t}}(function(){return window.triptease.onboard.config.bookingEngine.name},""),n="SiteMinder"===t||"SelfLoaded:siteminder"===t;return!(e.booking.checkin&&e.booking.checkout||!n)}(e)){var r={hotelkey:e.apiKey,bookingReference:e.booking.reference,bookingValue:e.booking.value,bookingCurrency:e.booking.currency,checkin:e.booking.checkin,checkout:e.booking.checkout,basePrice:e.booking.basePrice,u:t.userId,s:t.sessionId,domainUserId:t.domainUserId,pageVisitId:n.pageVisitId,t:Ft(),time:+new Date,p:""+window.location,rp:document.referrer},i=q.a.conversionsUrl+"/conversion",o={url:i,method:"get",queryParams:r,flags:["withCredentials"]};return Object(E.b)(o).then(function(){D.a.info("Conversion logged: "+C()(r))}).catch(function(e){D.a.error("Failed to log conversion",e,{url:i,queryParams:r})})}}function Dt(e,t,n){var r=Object(j.a)();return gt("PageOpen",{paperboyVersion:"1803.624",paperboyMode:n.paperboyMode,createdTime:(new Date).toISOString(),eventId:se.a.v4(),userId:e.userId,sessionId:e.sessionId,domainUserId:e.domainUserId,pageVisitId:t.pageVisitId,apiKey:t.apiKey,clientName:t.clientName,pageUrl:""+r.location,referer:r.document.referrer,experimentId:t.experiment?t.experiment._id:null,experimentName:t.experiment?t.experiment.name:null,experimentVariation:t.experiment&&t.experiment.selectedVariation?t.experiment.selectedVariation.name:null,screenWidth:r.screen.width,screenHeight:r.screen.height,browserWidth:r.innerWidth,browserHeight:r.innerHeight})}var Bt={voyat:{name:"Voyat",spy:function(){return Boolean(document.querySelector("script[src*='voyat.com']"))}},hotelChamp:{name:"Hotel Champ",spy:function(){return Boolean(document.querySelector("script[src*='hotelchamp.com']"))}},hotelsNetwork:{name:"The Hotels Network",spy:function(){return Boolean(document.querySelector("script[src*='thehotelsnetwork.com']"))}},stayWanderful:{name:"Stay Wanderful",spy:function(){return Boolean(document.querySelector("div[wanderful]"))}},veInteractive:{name:"VE Interactive",spy:function(){return Boolean(document.querySelector("script[src*='veinteractive.com']"))}},bookingDirection:{name:"Booking Direction",spy:function(){return Boolean(document.querySelector("script[src*='compare.bookingdirection.com']"))}}};function Lt(e){if(e&&e.booking){var t=e.apiKey,n=e.booking;window.ttConversionParams={bookingRef:n.reference,checkin:n.checkin,checkout:n.checkout,hotelKey:t,currency:n.currency,totalAmount:n.value,basePrice:n.basePrice}}var r=document.createElement("script");r.setAttribute("src","https://static-acquisitions.triptease.io/main.js"),r.async=!0,r.defer=!0,r.setAttribute("type","text/javascript"),r.setAttribute("className","tt-acquisitions"),document.body.appendChild(r)}function Ut(e,t,n){var r,i,o,a=(r=Object(j.a)(),i=new RegExp(/^[a-zA-Z]+/),o=r.document.documentElement.getAttribute("xml:lang")||"",[i.exec(r.document.documentElement.lang)||i.exec(o),i.exec(r.navigator.language||"")].filter(function(e){return null!==e}).map(function(e){return e[0]}));return me.getConfig(e.apiKey||e.clientKey,a,n).then(function(e){var n;return e.pageVisitId=t,e.clientName=e.client=e.client||e.clientName,e.detectedLanguages=a,e.languages=(n=Object(j.a)().document.documentElement,{browser:Object(j.a)().navigator.language||null,document:n.lang||n.getAttribute("xml:lang")||null}),e}).catch(function(n){throw n instanceof E.a&&400===n.getResponseStatusCode()&&function(e,t){var n=Object(j.a)();gt("InvalidApiKey",{createdTime:(new Date).toISOString(),eventId:se.a.v4(),pageVisitId:t,apiKey:e.apiKey,clientKey:e.clientKey,pageUrl:""+n.location})}(e,t),n})}function Nt(e,t,n){var r=f()(e.applications).reduce(function(t,n){return t[n]=e.applications[n].applicationConfig,t},{});_t(c()({},R.all(),e,q.a,{applications:r,isPrimaryPaperboy:n.isPrimary()}),D.a,n)}function Wt(e){D.a.error(e)}function qt(e){var t=e.key;return D.a.info("Paperboy bootstrapping with:",t),a.a.all([ye(e.session),Ut(t,e.pageVisitId,e.forceRefresh),it()]).then(function(n){var r=i()(n,3),o=r[0],a=r[1],s=r[2];if(o){a.apiKey=a.apiKey||t.apiKey,a.clientKey=a.clientKey||t.clientKey,a.clientGaLinkerParam=At();var u=Pt(a,o);return a=u.config,u.variationPicked&&ue.createExperiment(o,{id:u.variationPicked.experimentId,validUntil:u.variationPicked.validUntil,selectedVariation:u.variationPicked.selectedVariationId}).catch(function(e){return D.a.error("Error saving experiment to identity-service",e)}),Dt(o,a,{paperboyMode:e.mode.name}),Lt(),Nt(a=c()({},a,o),0,s),{session:o,config:a}}D.a.error("No session. Aborting.")}).catch(Wt)}function Ht(e){return a.a.all([ye(e.session),Ut(e,e.pageVisitId)]).then(function(t){var n=i()(t,2),r=n[0],o=n[1];return Dt(r,o,{paperboyMode:e.mode.name}),Rt(e,r,o),Lt(e),{session:r,config:o}}).catch(Wt)}function Kt(e){var t=Object(Le.j)(Bt).filter(function(e){return e.spy()}).map(function(e){return e.name});t&&t.length>0&&function(e,t,n){gt("CompetitorPresence",{paperboyVersion:"1803.624",createdTime:(new Date).toISOString(),eventId:se.a.v4(),userId:e.userId,sessionId:e.sessionId,pageVisitId:t.pageVisitId,apiKey:t.apiKey,clientName:t.clientName,competitors:n})}(e.session,e.config,t)}function zt(e){try{var t,n,r=window.triptease.onboard.bootstrap.pageVisitId,i=window.triptease.onboard.bootstrap.identity;return e.booking?(t={name:"conversion",bootstrap:Ht},n={apiKey:e.apiKey}):(t={name:"standard",bootstrap:qt},n=function(e){var t=jt();if("object"===Tt()(e)&&e.apiKey)return{apiKey:e.apiKey,clientKey:e.clientKey};if(t&&Mt(t)){var n=t.getAttribute("data-pf-hotelkey")||t.getAttribute("data-pf-token"),r=t.getAttribute("data-pf-property");return{apiKey:r&&r.length>0?"".concat(n,":").concat(r):n}}if("object"===Tt()(e)&&e.clientKey)return{clientKey:e.clientKey};throw new Error("Can not find api-key or clientKey in #tt-paperboy or .price-fighter-widget")}(e)),function(e){var t=Object(j.a)(),n=t.navigator.languages;gt("PageStart",{createdTime:(new Date).toISOString(),eventId:se.a.v4(),userId:R.get("triptease-user-id")||null,sessionId:R.get("triptease-session-id")||null,pageVisitId:e.pageVisitId,apiKey:e.key.apiKey,clientKey:e.key.clientKey,pageUrl:""+t.location,referer:t.document.referrer,paperboyVersion:"1803.624",paperboyMode:e.mode.name,userAgent:t.navigator.userAgent,acceptLanguage:n?n.join(", "):t.navigator.language,screenWidth:t.screen.width,screenHeight:t.screen.height,browserWidth:t.innerWidth,browserHeight:t.innerHeight,websiteLanguage:t.document.documentElement.getAttribute("lang")})}(e=c()({},e,{mode:t,key:n,pageVisitId:r,session:i})),t.bootstrap(e).then(function(e){return Kt(e)})}catch(e){Wt(e)}}n.d(t,"getConfig",function(){return Ut}),n.d(t,"setupConfig",function(){return Nt}),n.d(t,"bootstrapStandard",function(){return qt}),n.d(t,"bootstrapConversion",function(){return Ht}),n.d(t,"bootstrap",function(){return zt})},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n.n(r),o=n(3),a=n(48),s=n(24),c=function(e,t){return e.ready(t)};var u,f=n(0),p=n(5);function l(e){u?(o.a.info("Paperboy bootstrap already in progress - queuing"),u=u.then(function(){return o.a.info("Paperboy bootstrap - executing queued"),e()})):(o.a.info("Paperboy bootstrap - nothing in progress - execute immediately"),u=e())}function h(e){var t=e.apiKey?{apiKey:e.apiKey,clientKey:e.clientKey}:{clientKey:e.clientKey};return e.reservation&&(t.booking={reference:e.reservation.reservationId,currency:e.reservation.currency,value:e.reservation.totalPrice,checkin:e.reservation.checkin,checkout:e.reservation.checkout,basePrice:e.reservation.basePrice}),t}!function(){var e;o.a.info("Paperboy exposing api");try{var t;window.define&&(e=window.define,window.define=void 0),window.global&&(t=window.global,window.global=void 0),t&&(window.global=t),n(280),s.b().expose()}finally{e&&(window.define=e)}}(),o.a.info("Paperboy auto init"),function(e){var t=Object(f.a)(),r=n(281),u=s.b().getApi(),d=t.location.toString();function g(t){var n=Object(f.a)().location.toString();Object(p.h)(t,e)&&n===d?(o.a.info("Paperboy received reload with same paperboy config, will notify apps to allow app specific config checks.",t),u.trigger("update")):(o.a.info("Paperboy received reload with new paperboy config, destroying old state and bootstrapping.",t),t&&(e=i()({},e,t)),d=n,l(function(){return u.trigger("destroy"),r.bootstrap(e)}))}Object(a.c)(),function(e){var t=e.queue||(e.queue=[]),n=c.bind(null,e);t.push=n,t.forEach(n)}(u),u.reload=g,u.on("reload",g),t.triptease.config?(o.a.info("Paperboy init with window.triptease.config"),l(function(){return r.bootstrap(h(t.triptease.config))})):o.a.info("Paperboy init with no window.triptease.config - waiting for reload"),t.addEventListener("message",function(e){var t,n,r;e.data&&"triptease.config.changed"===e.data.type&&(o.a.info("Paperboy received message triptease.config.changed"),t=h(e.data.config)),e.data&&"triptease.integration.config.changed"===e.data.type&&(o.a.info("Paperboy received message triptease.integration.config.changed"),n=e.data.config,r={apiKey:n.apiKey||n.hotelKey,clientKey:n.clientKey},n.price&&(r.booking={reference:n.reference,currency:n.currency,value:n.price,checkin:n.checkin,checkout:n.checkout,basePrice:n.basePrice}),t=r),t&&setTimeout(function(){return g(t)},0)},!1)}()}]);